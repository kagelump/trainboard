(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const n of s.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&i(n)}).observe(document,{childList:!0,subtree:!0});function e(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(a){if(a.ep)return;a.ep=!0;const s=e(a);fetch(a.href,s)}})();const Qe={"2024-01-01":"元日","2024-01-08":"成人の日","2024-02-11":"建国記念の日","2024-02-12":"建国記念の日 振替休日","2024-02-23":"天皇誕生日","2024-03-20":"春分の日","2024-04-29":"昭和の日","2024-05-03":"憲法記念日","2024-05-04":"みどりの日","2024-05-05":"こどもの日","2024-05-06":"こどもの日 振替休日","2024-07-15":"海の日","2024-08-11":"山の日","2024-08-12":"休日 山の日","2024-09-16":"敬老の日","2024-09-22":"秋分の日","2024-09-23":"秋分の日 振替休日","2024-10-14":"スポーツの日","2024-11-03":"文化の日","2024-11-04":"文化の日 振替休日","2024-11-23":"勤労感謝の日","2025-01-01":"元日","2025-01-13":"成人の日","2025-02-11":"建国記念の日","2025-02-23":"天皇誕生日","2025-02-24":"天皇誕生日 振替休日","2025-03-20":"春分の日","2025-04-29":"昭和の日","2025-05-03":"憲法記念日","2025-05-04":"みどりの日","2025-05-05":"こどもの日","2025-05-06":"みどりの日 振替休日","2025-07-21":"海の日","2025-08-11":"山の日","2025-09-15":"敬老の日","2025-09-23":"秋分の日","2025-10-13":"スポーツの日","2025-11-03":"文化の日","2025-11-23":"勤労感謝の日","2025-11-24":"勤労感謝の日 振替休日","2026-01-01":"元日","2026-01-12":"成人の日","2026-02-11":"建国記念の日","2026-02-23":"天皇誕生日","2026-03-20":"春分の日","2026-04-29":"昭和の日","2026-05-03":"憲法記念日","2026-05-04":"みどりの日","2026-05-05":"こどもの日","2026-05-06":"憲法記念日 振替休日","2026-07-20":"海の日","2026-08-11":"山の日","2026-09-21":"敬老の日","2026-09-22":"国民の休日","2026-09-23":"秋分の日","2026-10-12":"スポーツの日","2026-11-03":"文化の日","2026-11-23":"勤労感謝の日"};async function F(o,t=3,e=1e3){for(let i=0;i<t;i++)try{const a=await fetch(o);if(!a.ok)throw new Error(`HTTP ${a.status}`);return a}catch(a){if(i===t-1)throw a;await new Promise(s=>setTimeout(s,e*2**i))}throw new Error("Unreachable")}function Xe(){const o=new Date,t=o.getFullYear(),e=String(o.getMonth()+1).padStart(2,"0"),i=String(o.getDate()).padStart(2,"0"),a=`${t}-${e}-${i}`;if(Object.prototype.hasOwnProperty.call(Qe,a))return"odpt.Calendar:SaturdayHoliday";const s=o.getDay();return s>=1&&s<=5?"odpt.Calendar:Weekday":"odpt.Calendar:SaturdayHoliday"}async function to(o,t,e,i){if(!e||!o||!i)throw new Error("API base URL, station URI, and railway URI are required");const a=new URLSearchParams;t&&a.set("acl:consumerKey",String(t)),a.set("odpt:railway",i),a.set("odpt:station",o),a.set("odpt:calendar",Xe());const s=`${e}odpt:StationTimetable?${a.toString()}`;return await(await F(s)).json()}async function Ft(o,t,e){if(!t||!e)throw new Error("API base URL and railway URI are required");const i=new URLSearchParams;o&&i.set("acl:consumerKey",String(o)),i.set("odpt:railway",e);const a=`${t}odpt:TrainInformation?${i.toString()}`;return await(await F(a)).json()}async function eo(o,t,e){if(!e)throw new Error("API base URL is required");if(o.length===0)return[];const i=new URLSearchParams;t&&i.set("acl:consumerKey",String(t)),i.append("owl:sameAs",o.join(","));const a=`${e}odpt:Station?${i.toString()}`;return await(await F(a)).json()}async function oo(o,t){if(!t)throw new Error("API base URL is required");const e=new URLSearchParams;o&&e.set("acl:consumerKey",String(o));const i=`${t}odpt:Railway?${e.toString()}`;return await(await F(i)).json()}async function io(o,t,e){if(!e||!o)throw new Error("API base URL and railway URI are required");const i=new URLSearchParams;t&&i.set("acl:consumerKey",String(t)),i.append("owl:sameAs",o);const a=`${e}odpt:Railway?${i.toString()}`,n=await(await F(a)).json();return n.length>0?n[0]:null}async function ao(o,t){if(!t)throw new Error("API base URL is required");const e=new URLSearchParams;o&&e.set("acl:consumerKey",String(o));const i=`${t}odpt:RailDirection?${e.toString()}`;return await(await F(i)).json()}async function no(o,t){if(!t)throw new Error("API base URL is required");const e=new URLSearchParams;o&&e.set("acl:consumerKey",String(o));const i=`${t}odpt:TrainType?${e.toString()}`;return await(await F(i)).json()}function Q(o){if(!o)return"N/A";if(typeof o=="string")return o;const t=o;return t.ja||t.en||"N/A"}function Ce(o){const[t,e]=o.split(":").map(i=>Number(i));return t*60+e}function le(o,t,e,i=10){return(o.find(n=>n["odpt:railDirection"]===t)?.["odpt:stationTimetableObject"]??[]).filter(n=>typeof n["odpt:departureTime"]=="string").filter(n=>Ce(n["odpt:departureTime"])>=e).slice(0,i)}function so(...o){const t=new Set;for(const e of o)for(const i of e??[]){const a=i["odpt:destinationStation"];if(a)if(Array.isArray(a)){for(const s of a)if(s){if(typeof s=="string")t.add(s);else if(typeof s=="object"){const n=s["owl:sameAs"]||s["@id"]||s.id;n&&typeof n=="string"&&t.add(n)}}}else typeof a=="string"&&t.add(a)}return t}function Me(o=new Date){return`${String(o.getHours()).padStart(2,"0")}:${String(o.getMinutes()).padStart(2,"0")}`}function Ie(o){return document.getElementById(o)}const ro="modulepreload",lo=function(o){return"/"+o},ue={},uo=function(t,e,i){let a=Promise.resolve();if(e&&e.length>0){let u=function(c){return Promise.all(c.map(d=>Promise.resolve(d).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};var n=u;document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),r=l?.nonce||l?.getAttribute("nonce");a=u(e.map(c=>{if(c=lo(c),c in ue)return;ue[c]=!0;const d=c.endsWith(".css"),y=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${y}`))return;const p=document.createElement("link");if(p.rel=d?"stylesheet":ro,d||(p.as="script"),p.crossOrigin="",p.href=c,r&&p.setAttribute("nonce",r),document.head.appendChild(p),d)return new Promise((h,w)=>{p.addEventListener("load",h),p.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(l){const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=l,window.dispatchEvent(r),!r.defaultPrevented)throw l}return a.then(l=>{for(const r of l||[])r.status==="rejected"&&s(r.reason);return t().catch(s)})};class co{constructor(t=500,e,i){if(this.maxEntries=t,this.ttlMs=e,this.persistKeyName=i,this.map=new Map,i&&typeof localStorage<"u")try{const a=localStorage.getItem(i);if(a){const s=JSON.parse(a);for(const n of Object.keys(s)){const l=s[n];(!l.expires||l.expires>Date.now())&&this.map.set(n,l)}}}catch(a){console.warn(`Failed to restore cache from localStorage key "${i}":`,a)}}get(t){const e=this.map.get(t);if(e){if(e.expires&&e.expires<=Date.now()){this.map.delete(t);return}return this.map.delete(t),this.map.set(t,e),e.v}}set(t,e){const i=this.ttlMs?Date.now()+this.ttlMs:void 0;for(this.map.has(t)&&this.map.delete(t),this.map.set(t,{v:e,expires:i});this.map.size>this.maxEntries;){const a=this.map.keys().next().value;this.map.delete(a)}this.persistKeyName&&this.persist()}has(t){return typeof this.get(t)<"u"}persist(){if(this.persistKeyName)try{const t={};for(const[e,i]of this.map.entries())t[e]=i;localStorage.setItem(this.persistKeyName,JSON.stringify(t))}catch(t){console.warn(`Failed to persist cache to localStorage key "${this.persistKeyName}":`,t)}}keys(){return Array.from(this.map.keys())}enablePersistence(t){this.persistKeyName=t,this.persist()}}const Ne={"odpt.TrainType:Sotetsu.CommuterExpress":{outline:"black",text:"red",fill:"black"},"odpt.TrainType:Sotetsu.CommuterLimitedExpress":{outline:"black",text:"red",fill:"white"},"odpt.TrainType:Sotetsu.Express":{outline:"black",text:"white",fill:"red"},"odpt.TrainType:Sotetsu.LimitedExpress":{outline:"black",text:"black",fill:"red"},"odpt.TrainType:Sotetsu.Local":{outline:"black",text:"black",fill:"white"},"odpt.TrainType:Sotetsu.Rapid":{outline:"black",text:"white",fill:"black"},"odpt.TrainType:Odakyu.CommuterExpress":{outline:"black",text:"red",fill:"black"},"odpt.TrainType:Odakyu.CommuterSemiExpress":{outline:"black",text:"yellow",fill:"black"},"odpt.TrainType:Odakyu.Express":{outline:"black",text:"white",fill:"red"},"odpt.TrainType:Odakyu.LimitedExpress":{outline:"black",text:"black",fill:"red"},"odpt.TrainType:Odakyu.Local":{outline:"black",text:"black",fill:"white"},"odpt.TrainType:Odakyu.RapidExpress":{outline:"black",text:"yellow",fill:"red"},"odpt.TrainType:Odakyu.SemiExpress":{outline:"black",text:"black",fill:"gray"},"odpt.TrainType:Keikyu.AccessExpress":{outline:"yellow",text:"white",fill:"black"},"odpt.TrainType:Keikyu.AirportRapidLimitedExpress":{outline:"black",text:"yellow",fill:"red"},"odpt.TrainType:Keikyu.CommuterLimitedExpress":{outline:"black",text:"red",fill:"white"},"odpt.TrainType:Keikyu.EveningWing":{outline:"yellow",text:"white",fill:"black"},"odpt.TrainType:Keikyu.Express":{outline:"black",text:"white",fill:"red"},"odpt.TrainType:Keikyu.LimitedExpress":{outline:"black",text:"black",fill:"red"},"odpt.TrainType:Keikyu.Local":{outline:"black",text:"black",fill:"white"},"odpt.TrainType:Keikyu.MorningWing":{outline:"yellow",text:"white",fill:"black"},"odpt.TrainType:Keikyu.RapidLimitedExpress":{outline:"black",text:"yellow",fill:"red"},"odpt.TrainType:Keikyu.Rapid":{outline:"black",text:"white",fill:"black"},"odpt.TrainType:Seibu.CommuterExpress":{outline:"black",text:"red",fill:"black"},"odpt.TrainType:Seibu.CommuterSemiExpress":{outline:"black",text:"yellow",fill:"black"},"odpt.TrainType:Seibu.Express":{outline:"black",text:"white",fill:"red"},"odpt.TrainType:Seibu.F-Liner":{outline:"yellow",text:"white",fill:"black"},"odpt.TrainType:Seibu.HaijimaLiner":{outline:"yellow",text:"white",fill:"black"},"odpt.TrainType:Seibu.LimitedExpress":{outline:"black",text:"black",fill:"red"},"odpt.TrainType:Seibu.Local":{outline:"black",text:"black",fill:"white"},"odpt.TrainType:Seibu.RapidExpress":{outline:"black",text:"yellow",fill:"red"},"odpt.TrainType:Seibu.Rapid":{outline:"black",text:"white",fill:"black"},"odpt.TrainType:Seibu.S-TRAIN":{outline:"yellow",text:"white",fill:"black"},"odpt.TrainType:Seibu.SemiExpress":{outline:"black",text:"black",fill:"gray"},"odpt.TrainType:Tokyu.CommuterLimitedExpress":{outline:"yellow",text:"red",fill:"white"},"odpt.TrainType:Tokyu.Express":{outline:"black",text:"white",fill:"red"},"odpt.TrainType:Tokyu.F-Liner":{outline:"yellow",text:"white",fill:"black"},"odpt.TrainType:Tokyu.LimitedExpress":{outline:"yellow",text:"white",fill:"black"},"odpt.TrainType:Tokyu.Local":{outline:"black",text:"black",fill:"white"},"odpt.TrainType:Tokyu.S-TRAIN":{outline:"yellow",text:"white",fill:"black"},"odpt.TrainType:Tokyu.SemiExpress":{outline:"black",text:"black",fill:"gray"},"odpt.TrainType:Tobu.Express":{outline:"black",text:"white",fill:"red"},"odpt.TrainType:Tobu.F-Liner":{outline:"yellow",text:"white",fill:"black"},"odpt.TrainType:Tobu.KawagoeLimitedExpress":{outline:"black",text:"black",fill:"red"},"odpt.TrainType:Tobu.LimitedExpress":{outline:"black",text:"black",fill:"red"},"odpt.TrainType:Tobu.Local":{outline:"black",text:"black",fill:"white"},"odpt.TrainType:Tobu.RapidExpress":{outline:"black",text:"yellow",fill:"red"},"odpt.TrainType:Tobu.Rapid":{outline:"black",text:"white",fill:"black"},"odpt.TrainType:Tobu.SL-Taiju":{outline:"yellow",text:"white",fill:"black"},"odpt.TrainType:Tobu.SectionExpress":{outline:"black",text:"white",fill:"red"},"odpt.TrainType:Tobu.SectionSemiExpress":{outline:"black",text:"black",fill:"gray"},"odpt.TrainType:Tobu.SemiExpress":{outline:"black",text:"black",fill:"gray"},"odpt.TrainType:Tobu.TH-LINER":{outline:"yellow",text:"white",fill:"black"},"odpt.TrainType:Tobu.TJ-Liner":{outline:"yellow",text:"white",fill:"black"},"odpt.TrainType:JR-East.ChuoSpecialRapid":{outline:"black",text:"yellow",fill:"red"},"odpt.TrainType:JR-East.CommuterRapid":{outline:"black",text:"red",fill:"black"},"odpt.TrainType:JR-East.CommuterSpecialRapid":{outline:"black",text:"yellow",fill:"red"},"odpt.TrainType:JR-East.Express":{outline:"black",text:"white",fill:"red"},"odpt.TrainType:JR-East.LimitedExpress":{outline:"black",text:"black",fill:"red"},"odpt.TrainType:JR-East.Liner":{outline:"yellow",text:"white",fill:"black"},"odpt.TrainType:JR-East.Local":{outline:"black",text:"black",fill:"white"},"odpt.TrainType:JR-East.OmeSpecialRapid":{outline:"black",text:"yellow",fill:"red"},"odpt.TrainType:JR-East.Rapid":{outline:"black",text:"white",fill:"black"},"odpt.TrainType:JR-East.SpecialRapid":{outline:"black",text:"yellow",fill:"red"}};let Wt=null;function po(){if(document.getElementById("train-type-dynamic-styles"))return;const o=document.createElement("style");o.id="train-type-dynamic-styles";let t="";for(const[e,i]of Object.entries(Ne)){const a=Le(e);t+=`
.${a} {
  background-color: ${i.fill};
  color: ${i.text};
  border: 2px solid ${i.outline};
}
`}if(o.textContent=t,document.head.appendChild(o),"CSSStyleSheet"in window&&typeof CSSStyleSheet.prototype.replaceSync=="function")try{Wt=new CSSStyleSheet,Wt.replaceSync(t)}catch(e){console.warn("Failed to create constructable stylesheet:",e)}}function yo(){return Wt}function Le(o){return"train-type-"+o.replace(/[:.]/g,"-")}function ho(o){return o in Ne?Le(o):"type-LOC"}const bo={"odpt.Railway:Odakyu.Odawara":{inbound:"新宿",outbound:"小田原"},"odpt.Railway:Keikyu.Main":{inbound:"品川",outbound:"浦賀"},"odpt.Railway:Tobu.Nikko":{inbound:"浅草",outbound:"東武日光"},"odpt.Railway:Tobu.TobuSkytree":{inbound:"浅草",outbound:"東武動物公園"},"odpt.Railway:JR-East.ChuoSobuLocal":{inbound:"三鷹",outbound:"千葉"},"odpt.Railway:Fujikyu.Fujikyu":{inbound:"大月",outbound:"河口湖"},"odpt.Railway:Keikyu.Airport":{inbound:"品川",outbound:"羽田空港"},"odpt.Railway:Keikyu.Daishi":{inbound:"京急川崎",outbound:"小島新田"},"odpt.Railway:Tokyu.DenEnToshi":{inbound:"渋谷",outbound:"中央林間"},"odpt.Railway:Tokyu.Ikegami":{inbound:"五反田",outbound:"蒲田"},"odpt.Railway:Tobu.Daishi":{inbound:"西新井",outbound:"大師前"},"odpt.Railway:Tobu.Isesaki":{inbound:"東武動物公園",outbound:"伊勢崎"},"odpt.Railway:Tobu.Kiryu":{inbound:"太田",outbound:"赤城"},"odpt.Railway:ChibaMonorail.Line2":{inbound:"千葉",outbound:"千城台"},"odpt.Railway:JR-East.Chuo":{inbound:"東京",outbound:"高尾"},"odpt.Railway:JR-East.Joban":{inbound:"上野",outbound:"水戸"},"odpt.Railway:Seibu.Toshima":{inbound:"練馬",outbound:"豊島園"},"odpt.Railway:Sotetsu.Izumino":{inbound:"二俣川",outbound:"湘南台"},"odpt.Railway:Sotetsu.Main":{inbound:"横浜",outbound:"海老名"},"odpt.Railway:Sotetsu.SotetsuShinYokohama":{inbound:"新横浜",outbound:"西谷"},"odpt.Railway:JR-Central.TokaidoShinkansen":{inbound:"東京",outbound:"新大阪"},"odpt.Railway:Odakyu.Enoshima":{inbound:"相模大野",outbound:"片瀬江ノ島"},"odpt.Railway:Odakyu.Tama":{inbound:"新百合ヶ丘",outbound:"唐木田"},"odpt.Railway:Keikyu.Kurihama":{inbound:"堀ノ内",outbound:"三崎口"},"odpt.Railway:Tokyu.Setagaya":{inbound:"三軒茶屋",outbound:"下高井戸"},"odpt.Railway:Keikyu.Zushi":{inbound:"金沢八景",outbound:"逗子・葉山"},"odpt.Railway:Seibu.Haijima":{inbound:"西武新宿",outbound:"拝島"},"odpt.Railway:Seibu.Ikebukuro":{inbound:"池袋",outbound:"飯能"},"odpt.Railway:Chichibu.Chichibu":{inbound:"羽生",outbound:"三峰口"},"odpt.Railway:Seibu.Kokubunji":{inbound:"国分寺",outbound:"東村山"},"odpt.Railway:Seibu.Sayama":{inbound:"西所沢",outbound:"西武球場前"},"odpt.Railway:Isumi.Isumi":{inbound:"大原",outbound:"上総中野"},"odpt.Railway:Seibu.SeibuChichibu":{inbound:"吾野",outbound:"西武秩父"},"odpt.Railway:Seibu.SeibuYurakucho":{inbound:"練馬",outbound:"小竹向原"},"odpt.Railway:Seibu.Seibuen":{inbound:"東村山",outbound:"西武園"},"odpt.Railway:Seibu.Shinjuku":{inbound:"西武新宿",outbound:"本川越"},"odpt.Railway:Seibu.Tamagawa":{inbound:"武蔵境",outbound:"是政"},"odpt.Railway:Seibu.Tamako":{inbound:"国分寺",outbound:"西武遊園地"},"odpt.Railway:Seibu.Yamaguchi":{inbound:"西武球場前",outbound:"西武遊園地"},"odpt.Railway:Tokyu.Kodomonokuni":{inbound:"長津田",outbound:"こどもの国"},"odpt.Railway:Tokyu.Meguro":{inbound:"目黒",outbound:"日吉"},"odpt.Railway:Tokyu.Oimachi":{inbound:"大井町",outbound:"溝の口"},"odpt.Railway:Tokyu.TokyuShinYokohama":{inbound:"新横浜",outbound:"西谷"},"odpt.Railway:JR-Central.Gotemba":{inbound:"国府津",outbound:"沼津"},"odpt.Railway:JR-Central.Minobu":{inbound:"富士",outbound:"甲府"},"odpt.Railway:Tokyu.TokyuTamagawa":{inbound:"多摩川",outbound:"蒲田"},"odpt.Railway:Choshi.Choshi":{inbound:"銚子",outbound:"外川"},"odpt.Railway:Tokyu.Toyoko":{inbound:"渋谷",outbound:"横浜"},"odpt.Railway:Tobu.Kameido":{inbound:"曳舟",outbound:"亀戸"},"odpt.Railway:Tobu.Kinugawa":{inbound:"下今市",outbound:"新藤原"},"odpt.Railway:IzuHakone.Sunzu":{inbound:"三島",outbound:"修善寺"},"odpt.Railway:Tobu.KoizumiBranch":{inbound:"館林",outbound:"西小泉"},"odpt.Railway:Tobu.Koizumi":{inbound:"太田",outbound:"西小泉"},"odpt.Railway:Enoden.Enoden":{inbound:"鎌倉",outbound:"藤沢"},"odpt.Railway:Tobu.Ogose":{inbound:"坂戸",outbound:"越生"},"odpt.Railway:Tobu.Sano":{inbound:"館林",outbound:"葛生"},"odpt.Railway:Izukyu.Izukyu":{inbound:"伊東",outbound:"伊豆急下田"},"odpt.Railway:JR-Central.Chuo":{inbound:"名古屋",outbound:"中津川"},"odpt.Railway:Tobu.TobuSkytreeBranch":{inbound:"曳舟",outbound:"亀戸"},"odpt.Railway:Tobu.TobuUrbanPark":{inbound:"大宮",outbound:"船橋"},"odpt.Railway:Tobu.Tojo":{inbound:"池袋",outbound:"寄居"},"odpt.Railway:Tobu.Utsunomiya":{inbound:"新栃木",outbound:"東武宇都宮"},"odpt.Railway:Aizu.Aizu":{inbound:"西若松",outbound:"会津高原"},"odpt.Railway:ChibaMonorail.Line1":{inbound:"千葉みなと",outbound:"県庁前"},"odpt.Railway:Hitachinaka.Minato":{inbound:"勝田",outbound:"阿字ヶ浦"},"odpt.Railway:Hokuetsu.Hokuhoku":{inbound:"六日町",outbound:"犀潟"},"odpt.Railway:Hokuso.Hokuso":{inbound:"京成高砂",outbound:"印旛日本医大"},"odpt.Railway:IzuHakone.Daiyuzan":{inbound:"小田原",outbound:"大雄山"},"odpt.Railway:JR-Central.Tokaido":{inbound:"東京",outbound:"熱海"},"odpt.Railway:JR-East.AkitaShinkansen":{inbound:"東京",outbound:"秋田"},"odpt.Railway:JR-East.Aterazawa":{inbound:"山形",outbound:"左沢"},"odpt.Railway:JR-East.BanetsuEast":{inbound:"郡山",outbound:"いわき"},"odpt.Railway:JR-East.BanetsuWest":{inbound:"郡山",outbound:"新潟"},"odpt.Railway:JR-East.Kitakami":{inbound:"北上",outbound:"横手"},"odpt.Railway:JR-East.ChuoTatsunoBranch":{inbound:"岡谷",outbound:"辰野"},"odpt.Railway:JR-East.Echigo":{inbound:"新潟",outbound:"柏崎"},"odpt.Railway:JR-East.Gono":{inbound:"東能代",outbound:"川部"},"odpt.Railway:JR-East.Hachinohe":{inbound:"八戸",outbound:"久慈"},"odpt.Railway:JR-East.Hakushin":{inbound:"新潟",outbound:"新発田"},"odpt.Railway:JR-East.Hanawa":{inbound:"大館",outbound:"好摩"},"odpt.Railway:JR-East.HokurikuShinkansen":{inbound:"東京",outbound:"金沢"},"odpt.Railway:JR-East.Iiyama":{inbound:"豊野",outbound:"越後川口"},"odpt.Railway:JR-East.Ishinomaki":{inbound:"小牛田",outbound:"女川"},"odpt.Railway:JR-East.JoetsuShinkansen":{inbound:"東京",outbound:"新潟"},"odpt.Railway:JR-East.Kamaishi":{inbound:"花巻",outbound:"釜石"},"odpt.Railway:JR-East.Karasuyama":{inbound:"宝積寺",outbound:"烏山"},"odpt.Railway:JR-East.Kesennuma":{inbound:"前谷地",outbound:"気仙沼"},"odpt.Railway:JR-East.Koumi":{inbound:"小淵沢",outbound:"小諸"},"odpt.Railway:JR-East.Mito":{inbound:"小山",outbound:"水戸"},"odpt.Railway:JR-East.Nikko":{inbound:"宇都宮",outbound:"日光"},"odpt.Railway:JR-East.Ofunato":{inbound:"一ノ関",outbound:"盛"},"odpt.Railway:JR-East.Oga":{inbound:"追分",outbound:"男鹿"},"odpt.Railway:JR-East.Oito":{inbound:"松本",outbound:"南小谷"},"odpt.Railway:JR-East.Ominato":{inbound:"野辺地",outbound:"大湊"},"odpt.Railway:JR-East.OuYamagata":{inbound:"福島",outbound:"新庄"},"odpt.Railway:JR-East.Ou":{inbound:"福島",outbound:"青森"},"odpt.Railway:JR-East.RikuEast":{inbound:"小牛田",outbound:"新庄"},"odpt.Railway:JR-East.RikuWest":{inbound:"新庄",outbound:"余目"},"odpt.Railway:JR-East.Ryomo":{inbound:"小山",outbound:"新前橋"},"odpt.Railway:JR-East.SensekiTohoku":{inbound:"仙台",outbound:"石巻"},"odpt.Railway:JR-East.Senseki":{inbound:"仙台",outbound:"石巻"},"odpt.Railway:JR-East.Senzan":{inbound:"仙台",outbound:"羽前千歳"},"odpt.Railway:JR-East.Shinetsu":{inbound:"高崎",outbound:"新潟"},"odpt.Railway:JR-East.Shinonoi":{inbound:"塩尻",outbound:"篠ノ井"},"odpt.Railway:JR-East.SuigunBranch":{inbound:"郡山",outbound:"水戸"},"odpt.Railway:JR-East.Suigun":{inbound:"水戸",outbound:"郡山"},"odpt.Railway:JR-East.Tadami":{inbound:"会津若松",outbound:"小出"},"odpt.Railway:JR-East.Tazawako":{inbound:"盛岡",outbound:"大曲"},"odpt.Railway:JR-East.TohokuShinkansen":{inbound:"東京",outbound:"新青森"},"odpt.Railway:JR-East.Tohoku":{inbound:"東京",outbound:"一ノ関"},"odpt.Railway:JR-East.Tsugaru":{inbound:"青森",outbound:"三厩"},"odpt.Railway:JR-East.Uetsu":{inbound:"新津",outbound:"秋田"},"odpt.Railway:JR-East.Yahiko":{inbound:"東三条",outbound:"弥彦"},"odpt.Railway:JR-East.Yamada":{inbound:"盛岡",outbound:"宮古"},"odpt.Railway:JR-East.YamagataShinkansen":{inbound:"東京",outbound:"新庄"},"odpt.Railway:JR-East.Yonesaka":{inbound:"米沢",outbound:"坂町"},"odpt.Railway:JR-Shikoku.SetoOhashi":{inbound:"岡山",outbound:"高松"},"odpt.Railway:JR-West.Sanin":{inbound:"京都",outbound:"幡生"},"odpt.Railway:Jomo.Jomo":{inbound:"高崎",outbound:"西桐生"},"odpt.Railway:Joshin.Joshin":{inbound:"高崎",outbound:"下仁田"},"odpt.Railway:KantoRailway.Ryugasaki":{inbound:"佐貫",outbound:"竜ヶ崎"},"odpt.Railway:KashimaRinkai.OaraiKashima":{inbound:"水戸",outbound:"鹿島神宮"},"odpt.Railway:Keisei.Chiba":{inbound:"京成津田沼",outbound:"千葉中央"},"odpt.Railway:Keisei.HigashiNarita":{inbound:"京成成田",outbound:"東成田"},"odpt.Railway:Keisei.Kanamachi":{inbound:"京成高砂",outbound:"金町"},"odpt.Railway:Keisei.Main":{inbound:"京成上野",outbound:"成田空港"},"odpt.Railway:Keisei.NaritaSkyAccess":{inbound:"京成上野",outbound:"成田空港"},"odpt.Railway:Keisei.Oshiage":{inbound:"押上",outbound:"京成高砂"},"odpt.Railway:Kominato.Kominato":{inbound:"五井",outbound:"上総中野"},"odpt.Railway:TokyoMetro.Hanzomon":{inbound:"渋谷",outbound:"押上"},"odpt.Railway:MIR.TsukubaExpress":{inbound:"秋葉原",outbound:"つくば"},"odpt.Railway:MaihamaResort.DisneyResort":{inbound:"リゾートゲートウェイ",outbound:"東京ディズニーランド"},"odpt.Railway:Minatomirai.Minatomirai":{inbound:"横浜",outbound:"元町・中華街"},"odpt.Railway:OdakyuHakone.HakoneTozan":{inbound:"小田原",outbound:"強羅"},"odpt.Railway:Ryutetsu.Nagareyama":{inbound:"馬橋",outbound:"流山"},"odpt.Railway:SaitamaRailway.SaitamaRailway":{inbound:"赤羽岩淵",outbound:"浦和美園"},"odpt.Railway:SaitamaTransit.NewShuttle":{inbound:"大宮",outbound:"内宿"},"odpt.Railway:SendaiAirportTransit.SendaiAirport":{inbound:"仙台",outbound:"仙台空港"},"odpt.Railway:SendaiMunicipal.Namboku":{inbound:"泉中央",outbound:"富沢"},"odpt.Railway:SendaiMunicipal.Tozai":{inbound:"八木山動物公園",outbound:"荒井"},"odpt.Railway:Shibayama.Shibayama":{inbound:"東成田",outbound:"芝山千代田"},"odpt.Railway:ShinKeisei.ShinKeisei":{inbound:"松戸",outbound:"京成津田沼"},"odpt.Railway:ShonanMonorail.ShonanMonorail":{inbound:"大船",outbound:"湘南江の島"},"odpt.Railway:TWR.Rinkai":{inbound:"大崎",outbound:"新木場"},"odpt.Railway:TamaMonorail.TamaMonorail":{inbound:"上北台",outbound:"多摩センター"},"odpt.Railway:Toei.Arakawa":{inbound:"早稲田",outbound:"三ノ輪橋"},"odpt.Railway:Toei.Asakusa":{inbound:"西馬込",outbound:"押上"},"odpt.Railway:Toei.Mita":{inbound:"目黒",outbound:"西高島平"},"odpt.Railway:Toei.NipporiToneri":{inbound:"日暮里",outbound:"見沼代親水公園"},"odpt.Railway:Toei.Oedo":{inbound:"光が丘",outbound:"大門"},"odpt.Railway:Toei.Shinjuku":{inbound:"新宿",outbound:"本八幡"},"odpt.Railway:TokyoMetro.Chiyoda":{inbound:"代々木上原",outbound:"取手"},"odpt.Railway:TokyoMetro.Fukutoshin":{inbound:"渋谷",outbound:"和光市"},"odpt.Railway:TokyoMetro.Ginza":{inbound:"渋谷",outbound:"浅草"},"odpt.Railway:TokyoMetro.Hibiya":{inbound:"中目黒",outbound:"北千住"},"odpt.Railway:TokyoMetro.Marunouchi":{inbound:"荻窪",outbound:"池袋"},"odpt.Railway:TokyoMetro.Namboku":{inbound:"目黒",outbound:"赤羽岩淵"},"odpt.Railway:TokyoMetro.Tozai":{inbound:"中野",outbound:"西船橋"},"odpt.Railway:TokyoMetro.Yurakucho":{inbound:"新木場",outbound:"和光市"},"odpt.Railway:TokyoMonorail.HanedaAirport":{inbound:"浜松町",outbound:"羽田空港"},"odpt.Railway:UtsunomiyaLightRail.UtsunomiyaLightRail":{inbound:"宇都宮駅東口",outbound:"芳賀・高根沢工業団地"},"odpt.Railway:WataraseKeikoku.WataraseKeikoku":{inbound:"桐生",outbound:"間藤"},"odpt.Railway:Yagan.AizuKinugawa":{inbound:"新藤原",outbound:"会津高原"},"odpt.Railway:YokohamaMunicipal.Blue":{inbound:"湘南台",outbound:"あざみ野"},"odpt.Railway:YokohamaMunicipal.Green":{inbound:"中山",outbound:"日吉"},"odpt.Railway:YokohamaSeaside.KanazawaSeaside":{inbound:"新杉田",outbound:"金沢八景"},"odpt.Railway:Yurikamome.Yurikamome":{inbound:"新橋",outbound:"豊洲"},"odpt.Railway:Keio.Inokashira":{inbound:"渋谷",outbound:"吉祥寺"},"odpt.Railway:Keio.KeioNew":{inbound:"新宿",outbound:"笹塚"},"odpt.Railway:Keio.Keio":{inbound:"新宿",outbound:"京王八王子"},"odpt.Railway:Keio.Sagamihara":{inbound:"調布",outbound:"橋本"},"odpt.Railway:KantoRailway.Joso":{inbound:"取手",outbound:"下館"},"odpt.Railway:Keio.Takao":{inbound:"北野",outbound:"高尾山口"},"odpt.Railway:ToyoRapid.ToyoRapid":{inbound:"西船橋",outbound:"東葉勝田台"},"odpt.Railway:JR-East.Agatsuma":{inbound:"渋川",outbound:"大前"},"odpt.Railway:JR-East.ChuoRapid":{inbound:"東京",outbound:"高尾"},"odpt.Railway:JR-East.Hachiko":{inbound:"八王子",outbound:"高崎"},"odpt.Railway:JR-East.Ito":{inbound:"熱海",outbound:"伊東"},"odpt.Railway:JR-East.Kawagoe":{inbound:"大宮",outbound:"高麗川"},"odpt.Railway:JR-East.Itsukaichi":{inbound:"拝島",outbound:"武蔵五日市"},"odpt.Railway:JR-East.JobanLocal":{inbound:"代々木上原",outbound:"取手"},"odpt.Railway:JR-East.JobanRapid":{inbound:"上野",outbound:"取手"},"odpt.Railway:JR-East.Joetsu":{inbound:"高崎",outbound:"長岡"},"odpt.Railway:JR-East.Kashima":{inbound:"香取",outbound:"鹿島神宮"},"odpt.Railway:JR-East.KeihinTohokuNegishi":{inbound:"大宮",outbound:"大船"},"odpt.Railway:JR-East.Keiyo":{inbound:"東京",outbound:"蘇我"},"odpt.Railway:JR-East.Kururi":{inbound:"木更津",outbound:"上総亀山"},"odpt.Railway:JR-East.Narita":{inbound:"佐倉",outbound:"銚子"},"odpt.Railway:JR-East.Musashino":{inbound:"府中本町",outbound:"西船橋"},"odpt.Railway:JR-East.NambuBranch":{inbound:"尻手",outbound:"浜川崎"},"odpt.Railway:JR-East.Nambu":{inbound:"川崎",outbound:"立川"},"odpt.Railway:JR-East.NaritaAbikoBranch":{inbound:"我孫子",outbound:"成田"},"odpt.Railway:JR-East.NaritaAirportBranch":{inbound:"成田",outbound:"成田空港"},"odpt.Railway:JR-East.Ome":{inbound:"立川",outbound:"奥多摩"},"odpt.Railway:JR-East.Sagami":{inbound:"茅ヶ崎",outbound:"橋本"},"odpt.Railway:JR-East.SaikyoKawagoe":{inbound:"大崎",outbound:"川越"},"odpt.Railway:JR-East.ShonanShinjuku":{inbound:"大宮",outbound:"大船"},"odpt.Railway:JR-East.SobuRapid":{inbound:"東京",outbound:"千葉"},"odpt.Railway:JR-East.Sobu":{inbound:"千葉",outbound:"銚子"},"odpt.Railway:JR-East.SotetsuDirect":{inbound:"新宿",outbound:"海老名"},"odpt.Railway:JR-East.Sotobo":{inbound:"千葉",outbound:"安房鴨川"},"odpt.Railway:JR-East.Takasaki":{inbound:"上野",outbound:"高崎"},"odpt.Railway:JR-East.Togane":{inbound:"成東",outbound:"大網"},"odpt.Railway:JR-East.Tokaido":{inbound:"東京",outbound:"熱海"},"odpt.Railway:JR-East.TsurumiOkawaBranch":{inbound:"浅野",outbound:"大川"},"odpt.Railway:JR-East.TsurumiUmiShibauraBranch":{inbound:"浅野",outbound:"海芝浦"},"odpt.Railway:JR-East.Tsurumi":{inbound:"鶴見",outbound:"扇町"},"odpt.Railway:JR-East.Uchibo":{inbound:"蘇我",outbound:"安房鴨川"},"odpt.Railway:JR-East.Utsunomiya":{inbound:"上野",outbound:"黒磯"},"odpt.Railway:JR-East.Yamanote":{inbound:"内回り",outbound:"外回り"},"odpt.Railway:JR-East.Yokohama":{inbound:"東神奈川",outbound:"八王子"},"odpt.Railway:JR-East.Yokosuka":{inbound:"東京",outbound:"久里浜"}};let Ue=[],D=null,lt=null,ut=null,Vt="渋谷・副都心線方面",qt="横浜・元町中華街方面";const Z=bo,St={},dt=new Map;let Oe=[];const G=new co(500);function wo(){return lt||"odpt.RailDirection:Inbound"}function mo(){return ut||"odpt.RailDirection:Outbound"}function Ro(){try{const o=D?D["owl:sameAs"]||D["@id"]:null;if(o&&Z[o]&&Z[o].inbound)return Z[o].inbound}catch{}return Vt}function fo(){try{const o=D?D["owl:sameAs"]||D["@id"]:null;if(o&&Z[o]&&Z[o].outbound)return Z[o].outbound}catch{}return qt}function x(){return Ue}function go(o){Ue=o}function S(){return Oe}async function ko(o,t){try{const e=await ao(o,t);for(const i of e){const a=i["owl:sameAs"]||i["@id"],s=Q(i["dc:title"]);a&&typeof a=="string"&&dt.set(a,s)}}catch(e){console.warn("Failed to load direction names:",e)}}async function To(o,t){try{const e=await no(o,t);for(const i of e){const a=i["owl:sameAs"]||i["@id"];if(!a||typeof a!="string")continue;const s=Q(i["dc:title"]);if(!s)continue;const n=ho(a);St[a]={name:s,class:n}}console.log(`Loaded ${Object.keys(St).length} train types`)}catch(e){console.warn("Failed to load train types:",e)}}async function at(o,t,e){try{const i=await io(o,t,e);if(!i){console.warn("Railway not found:",o);return}D=i,lt=i["odpt:descendingRailDirection"]||"odpt.RailDirection:Inbound",ut=i["odpt:ascendingRailDirection"]||"odpt.RailDirection:Outbound",lt&&dt.has(lt)&&(Vt=dt.get(lt)||Vt),ut&&dt.has(ut)&&(qt=dt.get(ut)||qt),Oe=(i["odpt:stationOrder"]||[]).map(n=>{const l=n["odpt:station"]||"",r=n["odpt:stationTitle"],u=Q(r),c=n["odpt:index"]||-1;return{name:u,uri:l,index:c}}).filter(n=>n.uri&&n.name!=="N/A").sort((n,l)=>n.index-l.index);const s=Q(i["dc:title"]||i["odpt:railwayTitle"]);Ea(`${s} 発車案内板`)}catch(i){console.warn("Failed to load railway metadata:",i)}}async function Eo(o,t,...e){const i=so(...e),a=Array.from(i).filter(s=>!G.has(s));if(a.length!==0)try{const s=await eo(a,o,t);for(const n of s){const l=n["owl:sameAs"]||n["@id"]||n.id,r=Q(n["dc:title"]||n["odpt:stationTitle"]||n.title);l&&typeof l=="string"&&G.set(l,r)}for(const n of a)G.has(n)||G.set(n,n)}catch(s){console.warn("Failed to fetch station names for destinations:",s)}}const Lt={東京都:["odpt.Railway:Odakyu.Odawara","odpt.Railway:Keikyu.Main","odpt.Railway:Tobu.TobuSkytree","odpt.Railway:JR-East.ChuoSobuLocal","odpt.Railway:Keikyu.Airport","odpt.Railway:Tokyu.DenEnToshi","odpt.Railway:Tokyu.Ikegami","odpt.Railway:Tobu.Daishi","odpt.Railway:JR-East.Chuo","odpt.Railway:JR-East.Joban","odpt.Railway:Seibu.Toshima","odpt.Railway:Odakyu.Tama","odpt.Railway:Tokyu.Setagaya","odpt.Railway:Seibu.Haijima","odpt.Railway:Seibu.Ikebukuro","odpt.Railway:Seibu.Kokubunji","odpt.Railway:Seibu.SeibuYurakucho","odpt.Railway:Seibu.Seibuen","odpt.Railway:Seibu.Shinjuku","odpt.Railway:Seibu.Tamagawa","odpt.Railway:Seibu.Tamako","odpt.Railway:Seibu.Yamaguchi","odpt.Railway:Tokyu.Kodomonokuni","odpt.Railway:Tokyu.Meguro","odpt.Railway:Tokyu.Oimachi","odpt.Railway:Tokyu.TokyuShinYokohama","odpt.Railway:Tokyu.TokyuTamagawa","odpt.Railway:Tokyu.Toyoko","odpt.Railway:Tobu.Kameido","odpt.Railway:Tobu.TobuSkytreeBranch","odpt.Railway:Hokuso.Hokuso","odpt.Railway:JR-East.HokurikuShinkansen","odpt.Railway:JR-East.JoetsuShinkansen","odpt.Railway:JR-East.TohokuShinkansen","odpt.Railway:JR-East.Ou","odpt.Railway:Keisei.Main","odpt.Railway:Keisei.NaritaSkyAccess","odpt.Railway:Keisei.Oshiage","odpt.Railway:TokyoMetro.Hanzomon","odpt.Railway:MIR.TsukubaExpress","odpt.Railway:TokyoMonorail.HanedaAirport","odpt.Railway:TWR.Rinkai","odpt.Railway:TamaMonorail.TamaMonorail","odpt.Railway:Toei.Arakawa","odpt.Railway:Toei.Asakusa","odpt.Railway:Toei.Mita","odpt.Railway:Toei.NipporiToneri","odpt.Railway:Toei.Oedo","odpt.Railway:Toei.Shinjuku","odpt.Railway:TokyoMetro.Chiyoda","odpt.Railway:TokyoMetro.Fukutoshin","odpt.Railway:TokyoMetro.Ginza","odpt.Railway:TokyoMetro.Hibiya","odpt.Railway:TokyoMetro.Marunouchi","odpt.Railway:TokyoMetro.Namboku","odpt.Railway:TokyoMetro.Tozai","odpt.Railway:TokyoMetro.Yurakucho","odpt.Railway:Yurikamome.Yurikamome","odpt.Railway:Keio.Inokashira","odpt.Railway:Keio.KeioNew","odpt.Railway:Keio.Keio","odpt.Railway:Keio.Sagamihara","odpt.Railway:Keio.Takao","odpt.Railway:JR-East.ChuoRapid","odpt.Railway:JR-East.Hachiko","odpt.Railway:JR-East.Kawagoe","odpt.Railway:JR-East.Itsukaichi","odpt.Railway:JR-East.JobanLocal","odpt.Railway:JR-East.JobanRapid","odpt.Railway:JR-East.KeihinTohokuNegishi","odpt.Railway:JR-East.Keiyo","odpt.Railway:JR-East.Musashino","odpt.Railway:JR-East.Nambu","odpt.Railway:JR-East.Ome","odpt.Railway:JR-East.SaikyoKawagoe","odpt.Railway:JR-East.ShonanShinjuku","odpt.Railway:JR-East.SobuRapid","odpt.Railway:JR-East.SotetsuDirect","odpt.Railway:JR-East.Tokaido","odpt.Railway:JR-East.Utsunomiya","odpt.Railway:JR-East.Yamanote","odpt.Railway:JR-East.Yokohama","odpt.Railway:JR-East.Yokosuka"],神奈川県:["odpt.Railway:Odakyu.Odawara","odpt.Railway:Keikyu.Main","odpt.Railway:Keikyu.Airport","odpt.Railway:Keikyu.Daishi","odpt.Railway:Tokyu.DenEnToshi","odpt.Railway:Tokyu.Ikegami","odpt.Railway:Sotetsu.Izumino","odpt.Railway:Sotetsu.Main","odpt.Railway:Sotetsu.SotetsuShinYokohama","odpt.Railway:JR-Central.TokaidoShinkansen","odpt.Railway:Odakyu.Enoshima","odpt.Railway:Odakyu.Tama","odpt.Railway:Keikyu.Kurihama","odpt.Railway:Keikyu.Zushi","odpt.Railway:Tokyu.Kodomonokuni","odpt.Railway:Tokyu.Meguro","odpt.Railway:Tokyu.Oimachi","odpt.Railway:Tokyu.TokyuShinYokohama","odpt.Railway:Tokyu.TokyuTamagawa","odpt.Railway:Choshi.Choshi","odpt.Railway:Tokyu.Toyoko","odpt.Railway:Enoden.Enoden","odpt.Railway:JR-Central.Tokaido","odpt.Railway:Minatomirai.Minatomirai","odpt.Railway:OdakyuHakone.HakoneTozan","odpt.Railway:ShonanMonorail.ShonanMonorail","odpt.Railway:JR-East.Tokaido","odpt.Railway:JR-East.KeihinTohokuNegishi","odpt.Railway:JR-East.NambuBranch","odpt.Railway:JR-East.Nambu","odpt.Railway:JR-East.Sagami","odpt.Railway:JR-East.ShonanShinjuku","odpt.Railway:JR-East.SotetsuDirect","odpt.Railway:JR-East.TsurumiOkawaBranch","odpt.Railway:JR-East.TsurumiUmiShibauraBranch","odpt.Railway:JR-East.Tsurumi","odpt.Railway:JR-East.Yokohama","odpt.Railway:JR-East.Yokosuka","odpt.Railway:YokohamaMunicipal.Blue","odpt.Railway:YokohamaMunicipal.Green","odpt.Railway:YokohamaSeaside.KanazawaSeaside"],千葉県:["odpt.Railway:JR-East.ChuoSobuLocal","odpt.Railway:ChibaMonorail.Line2","odpt.Railway:Tobu.TobuUrbanPark","odpt.Railway:Isumi.Isumi","odpt.Railway:Choshi.Choshi","odpt.Railway:Tobu.TobuUrbanPark","odpt.Railway:ChibaMonorail.Line1","odpt.Railway:Hokuso.Hokuso","odpt.Railway:Keisei.Chiba","odpt.Railway:Keisei.HigashiNarita","odpt.Railway:Keisei.Kanamachi","odpt.Railway:Keisei.Main","odpt.Railway:Keisei.NaritaSkyAccess","odpt.Railway:Keisei.Oshiage","odpt.Railway:Kominato.Kominato","odpt.Railway:MIR.TsukubaExpress","odpt.Railway:MaihamaResort.DisneyResort","odpt.Railway:Ryutetsu.Nagareyama","odpt.Railway:Shibayama.Shibayama","odpt.Railway:ShinKeisei.ShinKeisei","odpt.Railway:TWR.Rinkai","odpt.Railway:Toei.Shinjuku","odpt.Railway:TokyoMetro.Tozai","odpt.Railway:TokyoMetro.Yurakucho","odpt.Railway:ToyoRapid.ToyoRapid","odpt.Railway:JR-East.Keiyo","odpt.Railway:JR-East.Kashima","odpt.Railway:JR-East.Kururi","odpt.Railway:JR-East.Narita","odpt.Railway:JR-East.Musashino","odpt.Railway:JR-East.NaritaAbikoBranch","odpt.Railway:JR-East.NaritaAirportBranch","odpt.Railway:JR-East.SobuRapid","odpt.Railway:JR-East.Sobu","odpt.Railway:JR-East.Sotobo","odpt.Railway:JR-East.Togane","odpt.Railway:JR-East.Uchibo"],埼玉県:["odpt.Railway:Tobu.TobuSkytree","odpt.Railway:Tobu.Daishi","odpt.Railway:Tobu.TobuUrbanPark","odpt.Railway:Tobu.Tojo","odpt.Railway:Tobu.Ogose","odpt.Railway:Chichibu.Chichibu","odpt.Railway:Seibu.Haijima","odpt.Railway:Seibu.Ikebukuro","odpt.Railway:Seibu.Sayama","odpt.Railway:Seibu.SeibuChichibu","odpt.Railway:Seibu.SeibuYurakucho","odpt.Railway:MIR.TsukubaExpress","odpt.Railway:SaitamaRailway.SaitamaRailway","odpt.Railway:SaitamaTransit.NewShuttle","odpt.Railway:TokyoMetro.Fukutoshin","odpt.Railway:TokyoMetro.Namboku","odpt.Railway:TokyoMetro.Yurakucho","odpt.Railway:JR-East.Kawagoe","odpt.Railway:JR-East.Hachiko","odpt.Railway:JR-East.KeihinTohokuNegishi","odpt.Railway:JR-East.Musashino","odpt.Railway:JR-East.SaikyoKawagoe","odpt.Railway:JR-East.ShonanShinjuku","odpt.Railway:JR-East.Takasaki","odpt.Railway:JR-East.Utsunomiya"],群馬県:["odpt.Railway:Tobu.Kiryu","odpt.Railway:Tobu.Isesaki","odpt.Railway:Tobu.KoizumiBranch","odpt.Railway:Tobu.Koizumi","odpt.Railway:Jomo.Jomo","odpt.Railway:Joshin.Joshin","odpt.Railway:WataraseKeikoku.WataraseKeikoku","odpt.Railway:JR-East.Agatsuma","odpt.Railway:JR-East.Hachiko","odpt.Railway:JR-East.Joetsu","odpt.Railway:JR-East.Ryomo","odpt.Railway:JR-East.Takasaki"],栃木県:["odpt.Railway:Tobu.Nikko","odpt.Railway:Tobu.Kinugawa","odpt.Railway:Tobu.Sano","odpt.Railway:Tobu.Utsunomiya","odpt.Railway:Yagan.AizuKinugawa","odpt.Railway:JR-East.Nikko","odpt.Railway:JR-East.Ryomo","odpt.Railway:JR-East.Utsunomiya","odpt.Railway:JR-East.Karasuyama","odpt.Railway:JR-East.Mito","odpt.Railway:JR-East.Tohoku","odpt.Railway:UtsunomiyaLightRail.UtsunomiyaLightRail"],茨城県:["odpt.Railway:JR-East.Joban","odpt.Railway:JR-East.Mito","odpt.Railway:JR-East.SuigunBranch","odpt.Railway:JR-East.Suigun","odpt.Railway:Hitachinaka.Minato","odpt.Railway:KantoRailway.Ryugasaki","odpt.Railway:KantoRailway.Joso","odpt.Railway:KashimaRinkai.OaraiKashima","odpt.Railway:MIR.TsukubaExpress","odpt.Railway:TokyoMetro.Chiyoda","odpt.Railway:JR-East.JobanLocal","odpt.Railway:JR-East.JobanRapid","odpt.Railway:JR-East.Kashima"],山梨県:["odpt.Railway:Fujikyu.Fujikyu","odpt.Railway:JR-Central.Minobu","odpt.Railway:JR-East.Chuo","odpt.Railway:JR-East.ChuoRapid","odpt.Railway:JR-East.Koumi","odpt.Railway:JR-East.Oito"],静岡県:["odpt.Railway:JR-Central.TokaidoShinkansen","odpt.Railway:JR-Central.Gotemba","odpt.Railway:JR-Central.Minobu","odpt.Railway:JR-Central.Tokaido","odpt.Railway:IzuHakone.Sunzu","odpt.Railway:IzuHakone.Daiyuzan","odpt.Railway:Izukyu.Izukyu","odpt.Railway:JR-East.Ito"],宮城県:["odpt.Railway:JR-East.TohokuShinkansen","odpt.Railway:JR-East.Tohoku","odpt.Railway:JR-East.SensekiTohoku","odpt.Railway:JR-East.Senseki","odpt.Railway:JR-East.Senzan","odpt.Railway:JR-East.Ishinomaki","odpt.Railway:SendaiAirportTransit.SendaiAirport","odpt.Railway:SendaiMunicipal.Namboku","odpt.Railway:SendaiMunicipal.Tozai"],福島県:["odpt.Railway:Aizu.Aizu","odpt.Railway:JR-East.TohokuShinkansen","odpt.Railway:JR-East.YamagataShinkansen","odpt.Railway:JR-East.Tohoku","odpt.Railway:JR-East.OuYamagata","odpt.Railway:JR-East.Ou","odpt.Railway:JR-East.BanetsuEast","odpt.Railway:JR-East.BanetsuWest","odpt.Railway:JR-East.Tadami","odpt.Railway:JR-East.SuigunBranch"],新潟県:["odpt.Railway:JR-East.JoetsuShinkansen","odpt.Railway:JR-East.HokurikuShinkansen","odpt.Railway:JR-East.Joetsu","odpt.Railway:JR-East.Shinetsu","odpt.Railway:JR-East.Uetsu","odpt.Railway:JR-East.Echigo","odpt.Railway:JR-East.Hakushin","odpt.Railway:JR-East.Iiyama","odpt.Railway:JR-East.Yahiko","odpt.Railway:JR-East.Yonesaka","odpt.Railway:Hokuetsu.Hokuhoku"],長野県:["odpt.Railway:JR-East.HokurikuShinkansen","odpt.Railway:JR-East.Chuo","odpt.Railway:JR-East.ChuoTatsunoBranch","odpt.Railway:JR-East.Koumi","odpt.Railway:JR-East.Iiyama","odpt.Railway:JR-East.Oito","odpt.Railway:JR-East.Shinetsu","odpt.Railway:JR-East.Shinonoi"]},So=["北海道","青森県","岩手県","宮城県","秋田県","山形県","福島県","茨城県","栃木県","群馬県","埼玉県","千葉県","東京都","神奈川県","新潟県","富山県","石川県","福井県","山梨県","長野県","岐阜県","静岡県","愛知県","三重県","滋賀県","京都府","大阪府","兵庫県","奈良県","和歌山県","鳥取県","島根県","岡山県","広島県","山口県","徳島県","香川県","愛媛県","高知県","福岡県","佐賀県","長崎県","熊本県","大分県","宮崎県","鹿児島県","沖縄県"],$o="東京メトロ",vo="都営",Ao="東急",xo="小田急",_o="京王",Jo="西武",Co="東武",Mo="京成",Io="京急",No="相鉄",Lo="横浜市営",Uo="千葉都市モノレール",Oo="富士急行",Ko="秩父鉄道",Po="いすみ鉄道",Ho="銚子電気鉄道",Do="伊豆箱根鉄道",Bo="伊豆急行",jo="江ノ島電鉄",zo="会津鉄道",Yo="ひたちなか海浜鉄道",Fo="北越急行",Wo="北総鉄道",Vo="上毛電気鉄道",qo="上信電鉄",Go="関東鉄道",Zo="鹿島臨海鉄道",Qo="小湊鉄道",Xo="首都圏新都市鉄道 (つくばエクスプレス)",ti="舞浜リゾートライン",ei="横浜高速鉄道",oi="小田急箱根",ii="流鉄",ai="埼玉高速鉄道",ni="埼玉新都市交通",si="仙台空港鉄道",ri="仙台市営",li="芝山鉄道",ui="新京成電鉄",di="湘南モノレール",ci="東京臨海高速鉄道",pi="多摩都市モノレール",yi="東葉高速鉄道",hi="宇都宮ライトレール",bi="わたらせ渓谷鐵道",wi="野岩鉄道",mi="横浜シーサイドライン",Ri="ゆりかもめ",fi={"JR-East":"JR東日本","JR-Central":"JR東海","JR-Shikoku":"JR四国","JR-West":"JR西日本",TokyoMetro:$o,Toei:vo,Tokyu:Ao,Odakyu:xo,Keio:_o,Seibu:Jo,Tobu:Co,Keisei:Mo,Keikyu:Io,Sotetsu:No,YokohamaMunicipal:Lo,ChibaMonorail:Uo,Fujikyu:Oo,Chichibu:Ko,Isumi:Po,Choshi:Ho,IzuHakone:Do,Izukyu:Bo,Enoden:jo,Aizu:zo,Hitachinaka:Yo,Hokuetsu:Fo,Hokuso:Wo,Jomo:Vo,Joshin:qo,KantoRailway:Go,KashimaRinkai:Zo,Kominato:Qo,MIR:Xo,MaihamaResort:ti,Minatomirai:ei,OdakyuHakone:oi,Ryutetsu:ii,SaitamaRailway:ai,SaitamaTransit:ni,SendaiAirportTransit:si,SendaiMunicipal:ri,Shibayama:li,ShinKeisei:ui,ShonanMonorail:di,TWR:ci,TamaMonorail:pi,ToyoRapid:yi,UtsunomiyaLightRail:hi,WataraseKeikoku:bi,Yagan:wi,YokohamaSeaside:mi,Yurikamome:Ri};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Et=globalThis,Qt=Et.ShadowRoot&&(Et.ShadyCSS===void 0||Et.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Xt=Symbol(),de=new WeakMap;let Ke=class{constructor(t,e,i){if(this._$cssResult$=!0,i!==Xt)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=e}get styleSheet(){let t=this.o;const e=this.t;if(Qt&&t===void 0){const i=e!==void 0&&e.length===1;i&&(t=de.get(e)),t===void 0&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),i&&de.set(e,t))}return t}toString(){return this.cssText}};const gi=o=>new Ke(typeof o=="string"?o:o+"",void 0,Xt),xt=(o,...t)=>{const e=o.length===1?o[0]:t.reduce(((i,a,s)=>i+(n=>{if(n._$cssResult$===!0)return n.cssText;if(typeof n=="number")return n;throw Error("Value passed to 'css' function must be a 'css' function result: "+n+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(a)+o[s+1]),o[0]);return new Ke(e,o,Xt)},ki=(o,t)=>{if(Qt)o.adoptedStyleSheets=t.map((e=>e instanceof CSSStyleSheet?e:e.styleSheet));else for(const e of t){const i=document.createElement("style"),a=Et.litNonce;a!==void 0&&i.setAttribute("nonce",a),i.textContent=e.cssText,o.appendChild(i)}},ce=Qt?o=>o:o=>o instanceof CSSStyleSheet?(t=>{let e="";for(const i of t.cssRules)e+=i.cssText;return gi(e)})(o):o;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:Ti,defineProperty:Ei,getOwnPropertyDescriptor:Si,getOwnPropertyNames:$i,getOwnPropertySymbols:vi,getPrototypeOf:Ai}=Object,_t=globalThis,pe=_t.trustedTypes,xi=pe?pe.emptyScript:"",_i=_t.reactiveElementPolyfillSupport,ct=(o,t)=>o,$t={toAttribute(o,t){switch(t){case Boolean:o=o?xi:null;break;case Object:case Array:o=o==null?o:JSON.stringify(o)}return o},fromAttribute(o,t){let e=o;switch(t){case Boolean:e=o!==null;break;case Number:e=o===null?null:Number(o);break;case Object:case Array:try{e=JSON.parse(o)}catch{e=null}}return e}},te=(o,t)=>!Ti(o,t),ye={attribute:!0,type:String,converter:$t,reflect:!1,useDefault:!1,hasChanged:te};Symbol.metadata??=Symbol("metadata"),_t.litPropertyMetadata??=new WeakMap;let q=class extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??=[]).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,e=ye){if(e.state&&(e.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(t)&&((e=Object.create(e)).wrapped=!0),this.elementProperties.set(t,e),!e.noAccessor){const i=Symbol(),a=this.getPropertyDescriptor(t,i,e);a!==void 0&&Ei(this.prototype,t,a)}}static getPropertyDescriptor(t,e,i){const{get:a,set:s}=Si(this.prototype,t)??{get(){return this[e]},set(n){this[e]=n}};return{get:a,set(n){const l=a?.call(this);s?.call(this,n),this.requestUpdate(t,l,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??ye}static _$Ei(){if(this.hasOwnProperty(ct("elementProperties")))return;const t=Ai(this);t.finalize(),t.l!==void 0&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(ct("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(ct("properties"))){const e=this.properties,i=[...$i(e),...vi(e)];for(const a of i)this.createProperty(a,e[a])}const t=this[Symbol.metadata];if(t!==null){const e=litPropertyMetadata.get(t);if(e!==void 0)for(const[i,a]of e)this.elementProperties.set(i,a)}this._$Eh=new Map;for(const[e,i]of this.elementProperties){const a=this._$Eu(e,i);a!==void 0&&this._$Eh.set(a,e)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(t){const e=[];if(Array.isArray(t)){const i=new Set(t.flat(1/0).reverse());for(const a of i)e.unshift(ce(a))}else t!==void 0&&e.push(ce(t));return e}static _$Eu(t,e){const i=e.attribute;return i===!1?void 0:typeof i=="string"?i:typeof t=="string"?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach((t=>t(this)))}addController(t){(this._$EO??=new Set).add(t),this.renderRoot!==void 0&&this.isConnected&&t.hostConnected?.()}removeController(t){this._$EO?.delete(t)}_$E_(){const t=new Map,e=this.constructor.elementProperties;for(const i of e.keys())this.hasOwnProperty(i)&&(t.set(i,this[i]),delete this[i]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return ki(t,this.constructor.elementStyles),t}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach((t=>t.hostConnected?.()))}enableUpdating(t){}disconnectedCallback(){this._$EO?.forEach((t=>t.hostDisconnected?.()))}attributeChangedCallback(t,e,i){this._$AK(t,i)}_$ET(t,e){const i=this.constructor.elementProperties.get(t),a=this.constructor._$Eu(t,i);if(a!==void 0&&i.reflect===!0){const s=(i.converter?.toAttribute!==void 0?i.converter:$t).toAttribute(e,i.type);this._$Em=t,s==null?this.removeAttribute(a):this.setAttribute(a,s),this._$Em=null}}_$AK(t,e){const i=this.constructor,a=i._$Eh.get(t);if(a!==void 0&&this._$Em!==a){const s=i.getPropertyOptions(a),n=typeof s.converter=="function"?{fromAttribute:s.converter}:s.converter?.fromAttribute!==void 0?s.converter:$t;this._$Em=a;const l=n.fromAttribute(e,s.type);this[a]=l??this._$Ej?.get(a)??l,this._$Em=null}}requestUpdate(t,e,i){if(t!==void 0){const a=this.constructor,s=this[t];if(i??=a.getPropertyOptions(t),!((i.hasChanged??te)(s,e)||i.useDefault&&i.reflect&&s===this._$Ej?.get(t)&&!this.hasAttribute(a._$Eu(t,i))))return;this.C(t,e,i)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(t,e,{useDefault:i,reflect:a,wrapped:s},n){i&&!(this._$Ej??=new Map).has(t)&&(this._$Ej.set(t,n??e??this[t]),s!==!0||n!==void 0)||(this._$AL.has(t)||(this.hasUpdated||i||(e=void 0),this._$AL.set(t,e)),a===!0&&this._$Em!==t&&(this._$Eq??=new Set).add(t))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(e){Promise.reject(e)}const t=this.scheduleUpdate();return t!=null&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[a,s]of this._$Ep)this[a]=s;this._$Ep=void 0}const i=this.constructor.elementProperties;if(i.size>0)for(const[a,s]of i){const{wrapped:n}=s,l=this[a];n!==!0||this._$AL.has(a)||l===void 0||this.C(a,void 0,s,l)}}let t=!1;const e=this._$AL;try{t=this.shouldUpdate(e),t?(this.willUpdate(e),this._$EO?.forEach((i=>i.hostUpdate?.())),this.update(e)):this._$EM()}catch(i){throw t=!1,this._$EM(),i}t&&this._$AE(e)}willUpdate(t){}_$AE(t){this._$EO?.forEach((e=>e.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Eq&&=this._$Eq.forEach((e=>this._$ET(e,this[e]))),this._$EM()}updated(t){}firstUpdated(t){}};q.elementStyles=[],q.shadowRootOptions={mode:"open"},q[ct("elementProperties")]=new Map,q[ct("finalized")]=new Map,_i?.({ReactiveElement:q}),(_t.reactiveElementVersions??=[]).push("2.1.1");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ee=globalThis,vt=ee.trustedTypes,he=vt?vt.createPolicy("lit-html",{createHTML:o=>o}):void 0,Pe="$lit$",N=`lit$${Math.random().toFixed(9).slice(2)}$`,He="?"+N,Ji=`<${He}>`,z=document,yt=()=>z.createComment(""),ht=o=>o===null||typeof o!="object"&&typeof o!="function",oe=Array.isArray,Ci=o=>oe(o)||typeof o?.[Symbol.iterator]=="function",Ut=`[ 	
\f\r]`,nt=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,be=/-->/g,we=/>/g,O=RegExp(`>|${Ut}(?:([^\\s"'>=/]+)(${Ut}*=${Ut}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),me=/'/g,Re=/"/g,De=/^(?:script|style|textarea|title)$/i,Mi=o=>(t,...e)=>({_$litType$:o,strings:t,values:e}),P=Mi(1),Y=Symbol.for("lit-noChange"),f=Symbol.for("lit-nothing"),fe=new WeakMap,H=z.createTreeWalker(z,129);function Be(o,t){if(!oe(o)||!o.hasOwnProperty("raw"))throw Error("invalid template strings array");return he!==void 0?he.createHTML(t):t}const Ii=(o,t)=>{const e=o.length-1,i=[];let a,s=t===2?"<svg>":t===3?"<math>":"",n=nt;for(let l=0;l<e;l++){const r=o[l];let u,c,d=-1,y=0;for(;y<r.length&&(n.lastIndex=y,c=n.exec(r),c!==null);)y=n.lastIndex,n===nt?c[1]==="!--"?n=be:c[1]!==void 0?n=we:c[2]!==void 0?(De.test(c[2])&&(a=RegExp("</"+c[2],"g")),n=O):c[3]!==void 0&&(n=O):n===O?c[0]===">"?(n=a??nt,d=-1):c[1]===void 0?d=-2:(d=n.lastIndex-c[2].length,u=c[1],n=c[3]===void 0?O:c[3]==='"'?Re:me):n===Re||n===me?n=O:n===be||n===we?n=nt:(n=O,a=void 0);const p=n===O&&o[l+1].startsWith("/>")?" ":"";s+=n===nt?r+Ji:d>=0?(i.push(u),r.slice(0,d)+Pe+r.slice(d)+N+p):r+N+(d===-2?l:p)}return[Be(o,s+(o[e]||"<?>")+(t===2?"</svg>":t===3?"</math>":"")),i]};class bt{constructor({strings:t,_$litType$:e},i){let a;this.parts=[];let s=0,n=0;const l=t.length-1,r=this.parts,[u,c]=Ii(t,e);if(this.el=bt.createElement(u,i),H.currentNode=this.el.content,e===2||e===3){const d=this.el.content.firstChild;d.replaceWith(...d.childNodes)}for(;(a=H.nextNode())!==null&&r.length<l;){if(a.nodeType===1){if(a.hasAttributes())for(const d of a.getAttributeNames())if(d.endsWith(Pe)){const y=c[n++],p=a.getAttribute(d).split(N),h=/([.?@])?(.*)/.exec(y);r.push({type:1,index:s,name:h[2],strings:p,ctor:h[1]==="."?Li:h[1]==="?"?Ui:h[1]==="@"?Oi:Jt}),a.removeAttribute(d)}else d.startsWith(N)&&(r.push({type:6,index:s}),a.removeAttribute(d));if(De.test(a.tagName)){const d=a.textContent.split(N),y=d.length-1;if(y>0){a.textContent=vt?vt.emptyScript:"";for(let p=0;p<y;p++)a.append(d[p],yt()),H.nextNode(),r.push({type:2,index:++s});a.append(d[y],yt())}}}else if(a.nodeType===8)if(a.data===He)r.push({type:2,index:s});else{let d=-1;for(;(d=a.data.indexOf(N,d+1))!==-1;)r.push({type:7,index:s}),d+=N.length-1}s++}}static createElement(t,e){const i=z.createElement("template");return i.innerHTML=t,i}}function X(o,t,e=o,i){if(t===Y)return t;let a=i!==void 0?e._$Co?.[i]:e._$Cl;const s=ht(t)?void 0:t._$litDirective$;return a?.constructor!==s&&(a?._$AO?.(!1),s===void 0?a=void 0:(a=new s(o),a._$AT(o,e,i)),i!==void 0?(e._$Co??=[])[i]=a:e._$Cl=a),a!==void 0&&(t=X(o,a._$AS(o,t.values),a,i)),t}let Ni=class{constructor(t,e){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:e},parts:i}=this._$AD,a=(t?.creationScope??z).importNode(e,!0);H.currentNode=a;let s=H.nextNode(),n=0,l=0,r=i[0];for(;r!==void 0;){if(n===r.index){let u;r.type===2?u=new it(s,s.nextSibling,this,t):r.type===1?u=new r.ctor(s,r.name,r.strings,this,t):r.type===6&&(u=new Ki(s,this,t)),this._$AV.push(u),r=i[++l]}n!==r?.index&&(s=H.nextNode(),n++)}return H.currentNode=z,a}p(t){let e=0;for(const i of this._$AV)i!==void 0&&(i.strings!==void 0?(i._$AI(t,i,e),e+=i.strings.length-2):i._$AI(t[e])),e++}};class it{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(t,e,i,a){this.type=2,this._$AH=f,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=i,this.options=a,this._$Cv=a?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode;const e=this._$AM;return e!==void 0&&t?.nodeType===11&&(t=e.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,e=this){t=X(this,t,e),ht(t)?t===f||t==null||t===""?(this._$AH!==f&&this._$AR(),this._$AH=f):t!==this._$AH&&t!==Y&&this._(t):t._$litType$!==void 0?this.$(t):t.nodeType!==void 0?this.T(t):Ci(t)?this.k(t):this._(t)}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}_(t){this._$AH!==f&&ht(this._$AH)?this._$AA.nextSibling.data=t:this.T(z.createTextNode(t)),this._$AH=t}$(t){const{values:e,_$litType$:i}=t,a=typeof i=="number"?this._$AC(t):(i.el===void 0&&(i.el=bt.createElement(Be(i.h,i.h[0]),this.options)),i);if(this._$AH?._$AD===a)this._$AH.p(e);else{const s=new Ni(a,this),n=s.u(this.options);s.p(e),this.T(n),this._$AH=s}}_$AC(t){let e=fe.get(t.strings);return e===void 0&&fe.set(t.strings,e=new bt(t)),e}k(t){oe(this._$AH)||(this._$AH=[],this._$AR());const e=this._$AH;let i,a=0;for(const s of t)a===e.length?e.push(i=new it(this.O(yt()),this.O(yt()),this,this.options)):i=e[a],i._$AI(s),a++;a<e.length&&(this._$AR(i&&i._$AB.nextSibling,a),e.length=a)}_$AR(t=this._$AA.nextSibling,e){for(this._$AP?.(!1,!0,e);t!==this._$AB;){const i=t.nextSibling;t.remove(),t=i}}setConnected(t){this._$AM===void 0&&(this._$Cv=t,this._$AP?.(t))}}class Jt{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,e,i,a,s){this.type=1,this._$AH=f,this._$AN=void 0,this.element=t,this.name=e,this._$AM=a,this.options=s,i.length>2||i[0]!==""||i[1]!==""?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=f}_$AI(t,e=this,i,a){const s=this.strings;let n=!1;if(s===void 0)t=X(this,t,e,0),n=!ht(t)||t!==this._$AH&&t!==Y,n&&(this._$AH=t);else{const l=t;let r,u;for(t=s[0],r=0;r<s.length-1;r++)u=X(this,l[i+r],e,r),u===Y&&(u=this._$AH[r]),n||=!ht(u)||u!==this._$AH[r],u===f?t=f:t!==f&&(t+=(u??"")+s[r+1]),this._$AH[r]=u}n&&!a&&this.j(t)}j(t){t===f?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}}class Li extends Jt{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===f?void 0:t}}class Ui extends Jt{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==f)}}class Oi extends Jt{constructor(t,e,i,a,s){super(t,e,i,a,s),this.type=5}_$AI(t,e=this){if((t=X(this,t,e,0)??f)===Y)return;const i=this._$AH,a=t===f&&i!==f||t.capture!==i.capture||t.once!==i.once||t.passive!==i.passive,s=t!==f&&(i===f||a);a&&this.element.removeEventListener(this.name,this,i),s&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){typeof this._$AH=="function"?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t)}}class Ki{constructor(t,e,i){this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(t){X(this,t)}}const Pi={I:it},Hi=ee.litHtmlPolyfillSupport;Hi?.(bt,it),(ee.litHtmlVersions??=[]).push("3.3.1");const Di=(o,t,e)=>{const i=e?.renderBefore??t;let a=i._$litPart$;if(a===void 0){const s=e?.renderBefore??null;i._$litPart$=a=new it(t.insertBefore(yt(),s),s,void 0,e??{})}return a._$AI(o),a};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ie=globalThis;let L=class extends q{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const t=super.createRenderRoot();return this.renderOptions.renderBefore??=t.firstChild,t}update(t){const e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=Di(e,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return Y}};L._$litElement$=!0,L.finalized=!0,ie.litElementHydrateSupport?.({LitElement:L});const Bi=ie.litElementPolyfillSupport;Bi?.({LitElement:L});(ie.litElementVersions??=[]).push("4.2.1");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Ct=o=>(t,e)=>{e!==void 0?e.addInitializer((()=>{customElements.define(o,t)})):customElements.define(o,t)};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ji={attribute:!0,type:String,converter:$t,reflect:!1,hasChanged:te},zi=(o=ji,t,e)=>{const{kind:i,metadata:a}=e;let s=globalThis.litPropertyMetadata.get(a);if(s===void 0&&globalThis.litPropertyMetadata.set(a,s=new Map),i==="setter"&&((o=Object.create(o)).wrapped=!0),s.set(e.name,o),i==="accessor"){const{name:n}=e;return{set(l){const r=t.get.call(this);t.set.call(this,l),this.requestUpdate(n,r,o)},init(l){return l!==void 0&&this.C(n,void 0,o,l),l}}}if(i==="setter"){const{name:n}=e;return function(l){const r=this[n];t.call(this,l),this.requestUpdate(n,r,o)}}throw Error("Unsupported decorator location: "+i)};function T(o){return(t,e)=>typeof e=="object"?zi(o,t,e):((i,a,s)=>{const n=a.hasOwnProperty(s);return a.constructor.createProperty(s,i),n?Object.getOwnPropertyDescriptor(a,s):void 0})(o,t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Yi={CHILD:2},Fi=o=>(...t)=>({_$litDirective$:o,values:t});let Wi=class{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,e,i){this._$Ct=t,this._$AM=e,this._$Ci=i}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}};/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{I:Vi}=Pi,ge=()=>document.createComment(""),st=(o,t,e)=>{const i=o._$AA.parentNode,a=t===void 0?o._$AB:t._$AA;if(e===void 0){const s=i.insertBefore(ge(),a),n=i.insertBefore(ge(),a);e=new Vi(s,n,o,o.options)}else{const s=e._$AB.nextSibling,n=e._$AM,l=n!==o;if(l){let r;e._$AQ?.(o),e._$AM=o,e._$AP!==void 0&&(r=o._$AU)!==n._$AU&&e._$AP(r)}if(s!==a||l){let r=e._$AA;for(;r!==s;){const u=r.nextSibling;i.insertBefore(r,a),r=u}}}return e},K=(o,t,e=o)=>(o._$AI(t,e),o),qi={},Gi=(o,t=qi)=>o._$AH=t,Zi=o=>o._$AH,Ot=o=>{o._$AR(),o._$AA.remove()};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ke=(o,t,e)=>{const i=new Map;for(let a=t;a<=e;a++)i.set(o[a],a);return i},Qi=Fi(class extends Wi{constructor(o){if(super(o),o.type!==Yi.CHILD)throw Error("repeat() can only be used in text expressions")}dt(o,t,e){let i;e===void 0?e=t:t!==void 0&&(i=t);const a=[],s=[];let n=0;for(const l of o)a[n]=i?i(l,n):n,s[n]=e(l,n),n++;return{values:s,keys:a}}render(o,t,e){return this.dt(o,t,e).values}update(o,[t,e,i]){const a=Zi(o),{values:s,keys:n}=this.dt(t,e,i);if(!Array.isArray(a))return this.ut=n,s;const l=this.ut??=[],r=[];let u,c,d=0,y=a.length-1,p=0,h=s.length-1;for(;d<=y&&p<=h;)if(a[d]===null)d++;else if(a[y]===null)y--;else if(l[d]===n[p])r[p]=K(a[d],s[p]),d++,p++;else if(l[y]===n[h])r[h]=K(a[y],s[h]),y--,h--;else if(l[d]===n[h])r[h]=K(a[d],s[h]),st(o,r[h+1],a[d]),d++,h--;else if(l[y]===n[p])r[p]=K(a[y],s[p]),st(o,a[d],a[y]),y--,p++;else if(u===void 0&&(u=ke(n,p,h),c=ke(l,d,y)),u.has(l[d]))if(u.has(l[y])){const w=c.get(n[p]),E=w!==void 0?a[w]:null;if(E===null){const R=st(o,a[d]);K(R,s[p]),r[p]=R}else r[p]=K(E,s[p]),st(o,a[d],E),a[w]=null;p++}else Ot(a[y]),y--;else Ot(a[d]),d++;for(;p<=h;){const w=st(o,r[h+1]);K(w,s[p]),r[p++]=w}for(;d<=y;){const w=a[d++];w!==null&&Ot(w)}return this.ut=n,Gi(o,r),Y}});/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let je=class extends Event{constructor(t,e,i,a){super("context-request",{bubbles:!0,composed:!0}),this.context=t,this.contextTarget=e,this.callback=i,this.subscribe=a??!1}};/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 *//**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let Te=class{constructor(t,e,i,a){if(this.subscribe=!1,this.provided=!1,this.value=void 0,this.t=(s,n)=>{this.unsubscribe&&(this.unsubscribe!==n&&(this.provided=!1,this.unsubscribe()),this.subscribe||this.unsubscribe()),this.value=s,this.host.requestUpdate(),this.provided&&!this.subscribe||(this.provided=!0,this.callback&&this.callback(s,n)),this.unsubscribe=n},this.host=t,e.context!==void 0){const s=e;this.context=s.context,this.callback=s.callback,this.subscribe=s.subscribe??!1}else this.context=e,this.callback=i,this.subscribe=a??!1;this.host.addController(this)}hostConnected(){this.dispatchRequest()}hostDisconnected(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=void 0)}dispatchRequest(){this.host.dispatchEvent(new je(this.context,this.host,this.t,this.subscribe))}};/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class Xi{get value(){return this.o}set value(t){this.setValue(t)}setValue(t,e=!1){const i=e||!Object.is(t,this.o);this.o=t,i&&this.updateObservers()}constructor(t){this.subscriptions=new Map,this.updateObservers=()=>{for(const[e,{disposer:i}]of this.subscriptions)e(this.o,i)},t!==void 0&&(this.value=t)}addCallback(t,e,i){if(!i)return void t(this.value);this.subscriptions.has(t)||this.subscriptions.set(t,{disposer:()=>{this.subscriptions.delete(t)},consumerHost:e});const{disposer:a}=this.subscriptions.get(t);t(this.value,a)}clearCallbacks(){this.subscriptions.clear()}}/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let ta=class extends Event{constructor(t,e){super("context-provider",{bubbles:!0,composed:!0}),this.context=t,this.contextTarget=e}};class Ee extends Xi{constructor(t,e,i){super(e.context!==void 0?e.initialValue:i),this.onContextRequest=a=>{if(a.context!==this.context)return;const s=a.contextTarget??a.composedPath()[0];s!==this.host&&(a.stopPropagation(),this.addCallback(a.callback,s,a.subscribe))},this.onProviderRequest=a=>{if(a.context!==this.context||(a.contextTarget??a.composedPath()[0])===this.host)return;const s=new Set;for(const[n,{consumerHost:l}]of this.subscriptions)s.has(n)||(s.add(n),l.dispatchEvent(new je(this.context,l,n,!0)));a.stopPropagation()},this.host=t,e.context!==void 0?this.context=e.context:this.context=e,this.attachListeners(),this.host.addController?.(this)}attachListeners(){this.host.addEventListener("context-request",this.onContextRequest),this.host.addEventListener("context-provider",this.onProviderRequest)}hostConnected(){this.host.dispatchEvent(new ta(this.context,this.host))}}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function ea({context:o}){return(t,e)=>{const i=new WeakMap;if(typeof e=="object")return{get(){return t.get.call(this)},set(a){return i.get(this).setValue(a),t.set.call(this,a)},init(a){return i.set(this,new Ee(this,{context:o,initialValue:a})),a}};{t.constructor.addInitializer((n=>{i.set(n,new Ee(n,{context:o}))}));const a=Object.getOwnPropertyDescriptor(t,e);let s;if(a===void 0){const n=new WeakMap;s={get(){return n.get(this)},set(l){i.get(this).setValue(l),n.set(this,l)},configurable:!0,enumerable:!0}}else{const n=a.set;s={...a,set(l){i.get(this).setValue(l),n?.call(this,l)}}}return void Object.defineProperty(t,e,s)}}}/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function oa({context:o,subscribe:t}){return(e,i)=>{typeof i=="object"?i.addInitializer((function(){new Te(this,{context:o,callback:a=>{e.set.call(this,a)},subscribe:t})})):e.constructor.addInitializer((a=>{new Te(a,{context:o,callback:s=>{a[i]=s},subscribe:t})}))}}const ze="tickManager";var ia=Object.defineProperty,aa=Object.getOwnPropertyDescriptor,W=(o,t,e,i)=>{for(var a=i>1?void 0:i?aa(t,e):t,s=o.length-1,n;s>=0;s--)(n=o[s])&&(a=(i?n(t,e,a):n(a))||a);return i&&a&&ia(t,e,a),a};let C=class extends L{constructor(){super(...arguments),this.nowSeconds=(()=>{const o=new Date;return o.getHours()*3600+o.getMinutes()*60+o.getSeconds()})(),this.departureTime="",this.trainTypeName="",this.trainTypeClass="",this.destination=""}connectedCallback(){super.connectedCallback();const o=yo();if(o&&this.shadowRoot)try{this.shadowRoot.adoptedStyleSheets=[...this.shadowRoot.adoptedStyleSheets,o]}catch(t){console.warn("Failed to adopt train type stylesheet:",t)}}departureTimeSec(){const[o,t]=(this.departureTime||"").split(":"),e=Number(o||0),i=Number(t||0);return e*3600+i*60}minutes(){const o=this.departureTimeSec()-this.nowSeconds;return o<0?"発車済":o<=60?"到着":`${Math.ceil(o/60)}分`}trainDeparted(){return this.departureTimeSec()-this.nowSeconds<-60}onTick(o){console.log("TrainRow received tick event:",o),this.nowSeconds=o.currentTimeSeconds,this.trainDeparted()&&(this.dispatchEvent(new CustomEvent("train-departed",{bubbles:!0,composed:!0,detail:{departureTime:this.departureTime}})),o.unsubscribe())}firstUpdated(){this.tickManager.onMinorTick(o=>{this.onTick(o)})}render(){return P`
      <div class="minutes-col" data-departure="${this.departureTime}">${this.minutes()}</div>
      <div class="time-col">${this.departureTime||"--"}</div>
      <div class="train-type-badge-wrapper">
        <span part="badge" class="train-type-badge ${this.trainTypeClass}"
          >${this.trainTypeName}</span
        >
      </div>
      <div class="destination-text">${this.destination}</div>
    `}};C.styles=xt`
    /* Use display: contents to make this component transparent to layout,
       allowing its children to participate in the parent grid */
    :host {
      display: contents;
    }

    /* Minutes column - small numeric column */
    .minutes-col {
      font-size: 1.5rem;
      font-weight: 700;
      text-align: center;
      color: #fff;
    }

    /* Time column - large and prominent */
    .time-col {
      font-size: 3rem;
      font-weight: 700;
      line-height: 1;
      text-align: center;
      align-self: center;
    }

    .train-type-badge-wrapper {
      display: flex;
      justify-content: center;
      align-items: center;
    }

    /* Train Type badge */
    .train-type-badge {
      font-size: 1.5rem;
      font-weight: 800;
      padding: 0.25rem 0.5rem;
      border-radius: 0.5rem;
      text-align: center;
      line-height: 1.2;
      align-self: center;
      max-width: fit-content;
      white-space: nowrap;
      /* Default colors for fallback */
      background-color: #333;
      color: #fff;
      border: 2px solid #333;
    }

    /* Default style for unknown/local train types */
    .type-LOC {
      background-color: #333;
      color: #fff;
      border: 2px solid #333;
    }

    /* Destination Text */
    .destination-text {
      font-size: 1.75rem;
      font-weight: 600;
      line-height: 1.2;
      align-self: center;
      text-align: center;
      word-break: break-word;
    }

    /* Responsive: mobile-friendly layout tweaks */
    @media (max-width: 640px) {
      .minutes-col {
        font-size: 1rem;
      }

      .time-col {
        font-size: 1rem;
        text-align: left;
        line-height: 1;
      }

      .train-type-badge {
        font-size: 1rem;
        padding: 0.2rem 0.45rem;
        align-items: center;
        justify-content: flex-start;
      }

      .destination-text {
        font-size: 1rem;
        text-align: center;
        word-break: break-word;
      }
    }
  `;W([oa({context:ze}),T({attribute:!1})],C.prototype,"tickManager",2);W([T({type:Number})],C.prototype,"nowSeconds",2);W([T({type:String})],C.prototype,"departureTime",2);W([T({type:String})],C.prototype,"trainTypeName",2);W([T({type:String})],C.prototype,"trainTypeClass",2);W([T({type:String})],C.prototype,"destination",2);C=W([Ct("train-row")],C);const na="odpt.Railway:Tokyu.Toyoko",sa="武蔵小杉 (TY11)",ra="https://odpt-api-proxy.trainboard-odpt-proxy.workers.dev/",tt={DEFAULT_RAILWAY:na,DEFAULT_STATION_NAME:sa,API_BASE_URL:ra};let ae=null,la=tt&&tt.API_BASE_URL||"https://odpt-api-proxy.trainboard-odpt-proxy.workers.dev/",ua=tt&&tt.DEFAULT_RAILWAY||"odpt.Railway:Tokyu.Toyoko",Se=tt&&tt.DEFAULT_STATION_NAME||"武蔵小杉 (TY11)";const da=3e5,ca=1e4;function Kt(o){ae=o}function _(){return ae}function J(){return la}function pa(){return Promise.resolve()}async function ya(){await pa();try{const o=localStorage.getItem(Gt);o&&(ae=o)}catch{}}class ha{constructor(t,e){this.nextCallbackId=1,this.isRunning=!1,this.majorIntervalMs=t,this.minorIntervalMs=e}start(){this.isRunning||(this.isRunning=!0,this.majorIntervalId=window.setInterval(()=>{this.emitTick("major")},this.majorIntervalMs),this.minorIntervalId=window.setInterval(()=>{this.emitTick("minor")},this.minorIntervalMs),console.info("TickManager started"))}stop(){this.isRunning&&(this.majorIntervalId!==void 0&&(clearInterval(this.majorIntervalId),this.majorIntervalId=void 0),this.minorIntervalId!==void 0&&(clearInterval(this.minorIntervalId),this.minorIntervalId=void 0),this.isRunning=!1,console.info("TickManager stopped"))}onMajorTick(t){this.majorCallbackMap||(this.majorCallbackMap=new Map);const e=this.nextCallbackId++;return this.majorCallbackMap.set(e,t),()=>{this.majorCallbackMap?.delete(e)}}onMinorTick(t){this.minorCallbackMap||(this.minorCallbackMap=new Map);const e=this.nextCallbackId++;return this.minorCallbackMap.set(e,t),()=>{this.minorCallbackMap?.delete(e)}}getIsRunning(){return this.isRunning}emitTick(t){const e=new Date,i=e.getTime(),a=e.getHours()*3600+e.getMinutes()*60+e.getSeconds();if(t==="major"){if(!this.majorCallbackMap)return;const s=Array.from(this.majorCallbackMap.entries());for(const[n,l]of s){const r={type:t,timestamp:i,currentTimeSeconds:a,unsubscribe:()=>{try{this.majorCallbackMap?.delete(n)}catch{}}};try{l(r)}catch(u){console.error(`Error in ${t} tick callback:`,u)}}}else{if(!this.minorCallbackMap)return;const s=Array.from(this.minorCallbackMap.entries());for(const[n,l]of s){const r={type:t,timestamp:i,currentTimeSeconds:a,unsubscribe:()=>{try{this.minorCallbackMap?.delete(n)}catch{}}};try{l(r)}catch(u){console.error(`Error in ${t} tick callback:`,u)}}}}triggerTick(t){this.emitTick(t)}}const et=new ha(da,ca),ba=5;var wa=Object.defineProperty,ma=Object.getOwnPropertyDescriptor,V=(o,t,e,i)=>{for(var a=i>1?void 0:i?ma(t,e):t,s=o.length-1,n;s>=0;s--)(n=o[s])&&(a=(i?n(t,e,a):n(a))||a);return i&&a&&wa(t,e,a),a};let M=class extends L{constructor(){super(...arguments),this.tickManager=et,this.departures=[],this.stationNameCache=null,this.trainTypeMap={},this.loading=!1,this.displayLimit=ba,this.handleTrainDeparted=o=>{try{const e=o?.detail?.departureTime;if(e){const i=this.departures.findIndex(a=>a.departureTime===e);i!==-1&&(this.departures=this.departures.filter((a,s)=>s!==i))}}catch(t){console.warn("Failed to remove departed train by event detail:",t)}}}firstUpdated(){this.dispatchEvent(new CustomEvent("departures-list-rendered",{bubbles:!0,composed:!0}))}render(){if(this.loading)return P`<p class="loading-message">時刻表を取得中...</p>`;if(this.departures.length===0)return P`<p class="empty-message">本日の発車予定はありません。</p>`;const o=this.departures.slice(0,this.displayLimit);return P`
      ${Qi(o,(t,e)=>t.departureTime||`train-${e}`,t=>{const e=t.departureTime||"",i=this.trainTypeMap[t.trainTypeUri]||{name:"不明",class:"type-LOC"};return P`
            <train-row
              departureTime="${e}"
              trainTypeName="${i.name}"
              trainTypeClass="${i.class}"
              destination="${t.destination}"
              @train-departed=${this.handleTrainDeparted}
            ></train-row>
          `})}
    `}};M.styles=xt`
    :host {
      display: grid;
      /* Columns: minutes | time | train-type | destination */
      grid-template-columns: 1fr 1fr 1fr 1.5fr;
      gap: 0.5rem;
      row-gap: 0.5rem;
      align-items: center;
    }

    .empty-message {
      text-align: center;
      font-size: 1.5rem;
      padding-top: 2rem;
      grid-column: 1 / -1;
    }

    .loading-message {
      text-align: center;
      font-size: 1.5rem;
      padding-top: 2rem;
      grid-column: 1 / -1;
    }

    /* Responsive: mobile-friendly layout tweaks */
    @media (max-width: 640px) {
      :host {
        grid-template-columns: 1fr 1fr 1fr 2fr;
        gap: 0.25rem;
        row-gap: 0.25rem;
      }
    }
  `;V([ea({context:ze})],M.prototype,"tickManager",2);V([T({type:Array})],M.prototype,"departures",2);V([T({type:Object})],M.prototype,"stationNameCache",2);V([T({type:Object})],M.prototype,"trainTypeMap",2);V([T({type:Boolean})],M.prototype,"loading",2);V([T({type:Number})],M.prototype,"displayLimit",2);M=V([Ct("departures-list")],M);var Ra=Object.defineProperty,fa=Object.getOwnPropertyDescriptor,Mt=(o,t,e,i)=>{for(var a=i>1?void 0:i?fa(t,e):t,s=o.length-1,n;s>=0;s--)(n=o[s])&&(a=(i?n(t,e,a):n(a))||a);return i&&a&&Ra(t,e,a),a};let ot=class extends L{constructor(){super(...arguments),this.stationName="読込中...",this.railwayName="",this.operatorName=""}render(){return P`
      <div class="railway-info">
        <div class="operator-name">${this.operatorName}</div>
        <div class="railway-name">${this.railwayName}</div>
      </div>
      <div class="station-name">${this.stationName}</div>
    `}};ot.styles=xt`
    :host {
      display: flex;
      flex-direction: column;
      gap: 0.25rem;
      display: flex;
      flex-direction: row;
      align-items: center;
      width: 100%;
      justify-content: space-around;
    }

    .station-name {
      font-size: 1.875rem; /* text-3xl */
      letter-spacing: -0.025em; /* tracking-tight */
      line-height: 1.2;
    }

    .railway-info {
      font-size: 1rem;
      opacity: 0.8;
      line-height: 1.2;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    @media (min-width: 640px) {
      .station-name {
        font-size: 3rem; /* sm:text-5xl */
      }

      .railway-info {
        font-size: 1.5rem;
      }
    }
  `;Mt([T({type:String})],ot.prototype,"stationName",2);Mt([T({type:String})],ot.prototype,"railwayName",2);Mt([T({type:String})],ot.prototype,"operatorName",2);ot=Mt([Ct("station-header")],ot);var ga=Object.defineProperty,ka=Object.getOwnPropertyDescriptor,ne=(o,t,e,i)=>{for(var a=i>1?void 0:i?ka(t,e):t,s=o.length-1,n;s>=0;s--)(n=o[s])&&(a=(i?n(t,e,a):n(a))||a);return i&&a&&ga(t,e,a),a};let wt=class extends L{constructor(){super(...arguments),this.icon="",this.title=""}handleClick(o){this.dispatchEvent(new Event("click",{bubbles:!0,composed:!0}))}render(){return P`
      <button @click="${this.handleClick}" title="${this.title}" aria-label="${this.title}">
        ${this.icon}
      </button>
    `}};wt.styles=xt`
    :host {
      display: inline-block;
      cursor: pointer;
    }

    button {
      width: 3rem; /* 48px - square button */
      height: 3rem;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem; /* text-2xl */
      border-radius: 0.375rem; /* rounded-md */
      box-shadow:
        0 20px 25px -5px rgb(0 0 0 / 0.1),
        0 8px 10px -6px rgb(0 0 0 / 0.1); /* shadow-xl */
      transition: all 150ms;
      background: transparent;
      border: none;
      cursor: pointer;
      padding: 0;
    }

    button:hover {
      background-color: white;
      color: black;
    }

    /* Larger size for desktop */
    @media (min-width: 640px) {
      button {
        width: 4rem; /* 64px */
        height: 4rem;
        font-size: 2rem; /* text-3xl */
        border-radius: 0.5rem; /* sm:rounded-lg */
      }
    }
  `;ne([T({type:String})],wt.prototype,"icon",2);ne([T({type:String})],wt.prototype,"title",2);wt=ne([Ct("header-button")],wt);class se{constructor(t,e){this.departureTime=t["odpt:departureTime"]||"",this.trainTypeUri=t["odpt:trainType"]||"";let i="N/A";const a=t["odpt:destinationStation"];if(Array.isArray(a)&&a.length>0){const s=a[0];if(typeof s=="string")i=e&&e.get(s)||s;else if(s&&typeof s=="object"&&(i=s["dc:title"]||s.title||"N/A",(i==="N/A"||!i)&&s["owl:sameAs"])){const n=s["owl:sameAs"];typeof n=="string"&&(i=e&&e.get(n)||n)}}else typeof a=="string"&&(i=e&&e.get(a)||a);this.destination=i}static from(t,e){return new se(t,e)}}const B="t2board_railway_uri",j="t2board_station_uri",Gt="t2board_api_key",Ye="t2board_recent_railways",rt="t2board_prefecture",Ta=5;let $e=!1,ve=!1,Ae=!1;function Ea(o){document.title=o}function Sa(o,t,e){const i=document.querySelector("station-header");i&&(i.stationName=o||"読込中...",i.railwayName=t||"",i.operatorName=e||"")}function $a(){const o=document.getElementById("departures-inbound"),t=document.getElementById("departures-outbound");let e=o?.querySelector("departures-list"),i=t?.querySelector("departures-list");e||(e=document.createElement("departures-list"),o&&(o.innerHTML="",o.appendChild(e))),i||(i=document.createElement("departures-list"),t&&(t.innerHTML="",t.appendChild(i))),e&&(e.loading=!0),i&&(i.loading=!0)}function va(o,t){const e=document.getElementById("direction-inbound-header"),i=document.getElementById("direction-outbound-header");e&&(e.textContent=`${o}行き`),i&&(i.textContent=`${t}行き`)}function xe(o,t,e,i){console.log("Rendering departures for",o,"with",t.length,"entries");const a=document.getElementById(`departures-${o}`);if(!a)return;let s=a.querySelector("departures-list");s||(s=document.createElement("departures-list"),a.innerHTML="",a.appendChild(s));const n=t.map(l=>new se(l,e));s.departures=n,s.stationNameCache=e,s.trainTypeMap=i,s.loading=!1}function Zt(){const o=document.getElementById("time-header");o&&(o.textContent=Me())}function _e(o,t){const e=localStorage.getItem(j),i=o.find(s=>s.name===t)||o[0];let a=i;if(e){const s=o.find(n=>n.uri===e);s&&(a=s)}else o.length>0&&(a=i||o[0]);return a}function Fe(){try{const o=localStorage.getItem(Ye);return o?JSON.parse(o):[]}catch{return[]}}function Aa(o){try{let t=Fe();t=t.filter(e=>e!==o),t.unshift(o),t=t.slice(0,Ta),localStorage.setItem(Ye,JSON.stringify(t))}catch(t){console.warn("Failed to save recent railway:",t)}}function xa(o,t){const e=localStorage.getItem(B),i=o.find(s=>s.uri===t)||o[0];let a=i;if(e){const s=o.find(n=>n.uri===e);s&&(a=s)}else o.length>0&&(a=i||o[0]);return a}function re(o){if(!o)return"その他";const t=o.split(":"),e=t.length>1?t[1]:o;return fi[e]||e}function _a(o,t,e,i,a,s,n){const l=document.getElementById("config-modal"),r=document.getElementById("railway-select"),u=document.getElementById("station-select"),c=document.getElementById("prefecture-select");if(!l||!r||!u||!c)return;function d(w,E){if(!r)return;let R="";const b=Fe();let g=null;E&&Lt[E]&&(g=new Set(Lt[E]));const $=b.map(m=>o.find(v=>v.uri===m)).filter(m=>m!==void 0).filter(m=>g?g.has(m.uri):!0);if($.length>0){R+='<optgroup label="最近使用した路線">';for(const m of $)R+=`<option value="${m.uri}" ${m.uri===w?"selected":""}>${m.name}</option>`;R+="</optgroup>"}const U=new Map;for(const m of o){if(g&&!g.has(m.uri))continue;const v=re(m.operator);U.has(v)||U.set(v,[]),U.get(v).push(m)}const It=Array.from(U.keys()).sort((m,v)=>m.localeCompare(v,"ja"));for(const m of It){const v=U.get(m);R+=`<optgroup label="${m}">`;for(const Nt of v)R+=`<option value="${Nt.uri}" ${Nt.uri===w?"selected":""}>${Nt.name}</option>`;R+="</optgroup>"}r.innerHTML=R}function y(w){if(!c)return;const E=new Set(Object.keys(Lt)),R=So.filter(b=>E.has(b));c.innerHTML=R.map(b=>`<option value="${b}" ${b===w?"selected":""}>${b}</option>`).join("")}function p(w){if(!u)return;const E=S();u.innerHTML=E.map(R=>`<option value="${R.uri}" ${R.uri===w?"selected":""}>${R.name}</option>`).join("")}const h=localStorage.getItem(rt)||"東京都";y(h),d(e,h),p(i),ve||(document.getElementById("settings-button")?.addEventListener("click",()=>{const b=localStorage.getItem(B),g=localStorage.getItem(j),$=localStorage.getItem(rt)||"東京都";y($),d(b,$),p(g),Ja()}),document.getElementById("close-modal")?.addEventListener("click",()=>{Pt()}),r?.addEventListener("change",async()=>{if(!r)return;const b=r.value;if(u&&(u.innerHTML="<option>駅を読込中...</option>",u.disabled=!0),n)try{await n(b),p(null)}catch(g){console.error("Failed to load stations:",g),u&&(u.innerHTML="<option>駅の読込に失敗しました</option>")}finally{u&&(u.disabled=!1)}}),c?.addEventListener("change",async()=>{if(!c)return;const b=c.value;try{localStorage.setItem(rt,b)}catch{}d(null,b)}),document.getElementById("save-settings")?.addEventListener("click",()=>{if(!r||!u||!c)return;const b=r.value,g=u.value,$=c.value,U=localStorage.getItem(B),It=localStorage.getItem(j),m=localStorage.getItem(rt);localStorage.setItem(rt,$),localStorage.setItem(B,b),localStorage.setItem(j,g),Aa(b),$!==m||b!==U?a(b):g!==It&&s(g),Pt()}),l.addEventListener("click",b=>{b.target===l&&Pt()}),ve=!0)}function Je(o,t){const e=document.getElementById("api-key-modal"),i=document.getElementById("api-key-input");if(!(!e||!i)&&(i.value=o||"",!$e)){const a=document.getElementById("save-api-key"),s=document.getElementById("close-api-key");a?.addEventListener("click",()=>{const n=i.value?i.value.trim():null;n?localStorage.setItem(Gt,n):localStorage.removeItem(Gt),t(n),Ht()}),s?.addEventListener("click",()=>Ht()),e.addEventListener("click",n=>{n.target===e&&Ht()}),$e=!0}}function Ja(){const o=document.getElementById("config-modal");o&&(o.classList.remove("hidden"),o.classList.add("flex","opacity-100"))}function Pt(){const o=document.getElementById("config-modal");o&&(o.classList.remove("flex","opacity-100"),o.classList.add("hidden"))}function We(){const o=document.getElementById("api-key-modal");o&&(o.classList.remove("hidden"),o.classList.add("flex","opacity-100"))}function Ht(){const o=document.getElementById("api-key-modal");o&&(o.classList.remove("flex","opacity-100"),o.classList.add("hidden"))}function Ve(o,t="info"){const e=document.getElementById("status-banner");e&&(e.classList.remove("hidden"),e.classList.remove("bg-red-100","bg-yellow-100","bg-blue-100","text-red-800"),t==="error"?e.classList.add("bg-red-100","text-red-800"):t==="warn"?e.classList.add("bg-yellow-100"):e.classList.add("bg-blue-100"),e.textContent=o)}function Ca(){const o=document.getElementById("status-banner");o&&(o.classList.add("hidden"),o.textContent="")}function Ma(){const o=document.getElementById("location-modal");o&&(o.classList.remove("hidden"),o.classList.add("flex","opacity-100"))}function Dt(){const o=document.getElementById("location-modal");o&&(o.classList.remove("flex","opacity-100"),o.classList.add("hidden"))}function Bt(o){const t=document.getElementById("location-status");t&&(t.textContent=o)}function Ia(o){const t=document.getElementById("location-modal"),e=document.getElementById("location-button"),i=document.getElementById("close-location-modal"),a=document.getElementById("nearby-stations-list");!t||!e||!i||!a||Ae||(i.addEventListener("click",()=>{Dt()}),t.addEventListener("click",s=>{s.target===t&&Dt()}),a.addEventListener("click",s=>{const l=s.target.closest("[data-station-uri]");if(l){const r=l.getAttribute("data-station-uri"),u=l.getAttribute("data-railway-uri");r&&u&&(o(r,u),Dt())}}),e.addEventListener("click",async()=>{Ma(),Bt("現在地を取得中..."),a.innerHTML="";try{const{getCurrentPosition:s,findNearbyStations:n,formatDistance:l}=await uo(async()=>{const{getCurrentPosition:y,findNearbyStations:p,formatDistance:h}=await import("./location-BThkm30G.js");return{getCurrentPosition:y,findNearbyStations:p,formatDistance:h}},[]),r=await s(),{latitude:u,longitude:c}=r.coords;Bt(`現在地: ${u.toFixed(4)}, ${c.toFixed(4)}`);const d=n(u,c,5);if(d.length===0){const y=document.createElement("p");y.className="text-center text-lg",y.textContent="近くに駅が見つかりませんでした",a.appendChild(y);return}d.forEach(y=>{const p=document.createElement("button");p.className="w-full text-left p-4 mb-2 bg-gray-800 hover:bg-gray-700 rounded-lg transition border-2 border-white",p.setAttribute("data-station-uri",y.uri),p.setAttribute("data-railway-uri",y.railway);const h=document.createElement("div");h.className="font-bold text-xl",h.textContent=y.name;const w=x().find($=>$.uri===y.railway),E=w?w.name:y.railway,R=re(w?w.operator:y.operator),b=document.createElement("div");b.className="text-sm text-gray-300 mt-1",b.textContent=`${R} / ${E}`;const g=document.createElement("div");g.className="text-sm text-gray-300 mt-1",g.textContent=`距離: ${l(y.distance)}`,p.appendChild(h),p.appendChild(b),p.appendChild(g),a.appendChild(p)})}catch(s){const n=s instanceof Error?s:new Error(String(s));console.error("Location error:",n),Bt("エラー: "+n.message);const l=document.createElement("p");l.className="text-center text-lg text-red-400",l.textContent="位置情報の取得に失敗しました。ブラウザの設定で位置情報の使用を許可してください。",a.appendChild(l)}}),Ae=!0)}class Na{constructor(){this.callbacks=[],this.isVisible=!0,this.listener=null,this.isVisible=!document.hidden}initialize(){this.listener||(this.listener=()=>this.handleVisibilityChange(),document.addEventListener("visibilitychange",this.listener),console.info(`VisibilityManager initialized. Page is ${this.isVisible?"visible":"hidden"}`))}destroy(){this.listener&&(document.removeEventListener("visibilitychange",this.listener),this.listener=null)}onVisibilityChange(t){this.callbacks.push(t)}offVisibilityChange(t){const e=this.callbacks.indexOf(t);e!==-1&&this.callbacks.splice(e,1)}getIsVisible(){return this.isVisible}handleVisibilityChange(){const t=this.isVisible;this.isVisible=!document.hidden,t!==this.isVisible&&(console.info(`Page visibility changed: ${this.isVisible?"visible":"hidden"}`),this.callbacks.forEach(e=>{try{e(this.isVisible)}catch(i){console.error("Error in visibility callback:",i)}}))}}const jt=new Na;let k={railwayUri:null,stationUri:null,stationName:null},zt=null,Yt=null,mt=null,Rt=null,ft=null;function A(){return k}function I(o){k=o}function La(){const t=S().find(e=>e.uri===k.stationUri);if(!t||!k.railwayUri){const e=Ie("station-header");return e&&(e.textContent="エラー: 駅または路線が選択されていません"),null}return t}async function pt(o){const t=_();let e=[];try{e=await to(o,t,J(),k.railwayUri)}catch(l){console.error("Failed to fetch timetable:",l);const r=_(),u=J(),c=r===null&&u.includes("proxy")?"":" API キーを確認してください。";return Ve(`API エラーが発生しました。${c}`.trim(),"error"),r===null&&u.includes("proxy")||We(),!1}const a=Ce(Me(new Date)),s=le(e,wo(),a),n=le(e,mo(),a);return await Eo(t,J(),s,n),xe("inbound",s,G,St),xe("outbound",n,G,St),!0}async function qe(){const o=_();try{k.railwayUri&&(await Ft(o,J(),k.railwayUri),Ca())}catch(t){console.warn("Failed to fetch status:",t);const e=_(),i=J(),a=e===null&&i.includes("proxy")?"":" API キーを確認してください。";Ve(`運行情報取得でエラーが発生しました。${a}`.trim(),"warn")}}function Ua(o){mt&&(mt(),mt=null,zt=null),Rt&&(Rt(),Rt=null,Yt=null),zt=async()=>{try{const e=localStorage.getItem(j);e?await pt(e):await pt(k.stationUri)}catch{k.stationUri&&await pt(k.stationUri)}const t=_();try{const i=localStorage.getItem(B)||k.railwayUri;i&&await Ft(t,J(),i)}catch{k.railwayUri&&await Ft(t,J(),k.railwayUri)}},mt=et.onMajorTick(zt),Yt=()=>{Zt()},Rt=et.onMinorTick(Yt),Zt()}function Oa(){console.info("Pausing ticks (page hidden)"),et.stop()}function Ka(o){console.info("Resuming ticks (page visible)"),Zt(),et.start(),pt(o).catch(console.error),qe().catch(console.error)}async function gt(){try{const n=localStorage.getItem(B),l=localStorage.getItem(j);if(n&&(k.railwayUri=n),l){k.stationUri=l;const u=S().find(c=>c.uri===l);u&&(k.stationName=u.name)}}catch(n){console.warn("Failed to load config from localStorage:",n)}const o=La();if(!o)return;const e=x().find(n=>n.uri===k.railwayUri),i=e?e.name:"",a=e?re(e.operator):"";Sa(o.name,i,a),$a(),va(Ro(),fo()),await pt(o.uri)&&(await qe(),Ua(o.uri),et.start(),jt.initialize(),ft&&jt.offVisibilityChange(ft),ft=n=>{n?Ka(o.uri):Oa()},jt.onVisibilityChange(ft))}function Ge(){const t=window.location.pathname.split("/").filter(e=>e);return t.length===0||t[0]==="railway"?"":t.length>=2&&t[1]==="railway"||t.length===1?"/"+t[0]:""}function Pa(o,t){return!t||t==="/"?o:o.startsWith(t)?o.slice(t.length)||"/":o}function Ha(o,t){return!t||t==="/"?o:o.startsWith("/")?t+o:t+"/"+o}function Da(){const o=Ge(),t=window.location.pathname,e=Pa(t,o),i={railwayName:null,stationName:null},a=e.match(/\/railway\/([^/]+)\/station\/([^/]+)/);return a&&(i.railwayName=decodeURIComponent(a[1]),i.stationName=decodeURIComponent(a[2])),i}function Ze(o){const t=o.match(/^odpt\.[^:]+:(.+)$/);return t?t[1]:null}function Ba(o,t){if(!t)return null;const e=o.find(n=>n.name===t);if(e)return e;const i=t.toLowerCase(),a=o.find(n=>n.name.toLowerCase()===i);return a||o.find(n=>{const l=Ze(n.uri);return l?l.toLowerCase()===i?!0:l.split(".").some(u=>u.toLowerCase()===i):!1})||null}function ja(o,t){if(!t)return null;const e=o.find(r=>r.name===t);if(e)return e;const i=t.toLowerCase(),a=o.find(r=>r.name.toLowerCase()===i);if(a)return a;const s=o.find(r=>r.name.includes(t));if(s)return s;const n=o.find(r=>r.name.toLowerCase().includes(i));return n||o.find(r=>{const u=Ze(r.uri);return u?u.toLowerCase()===i?!0:u.split(".").some(d=>d.toLowerCase()===i):!1})||null}function kt(o,t){const e=Ge();if(!o||!t){const l=e||"/";window.location.pathname!==l&&window.history.pushState({},"",l);return}const i=encodeURIComponent(o),a=encodeURIComponent(t),s=`/railway/${i}/station/${a}`,n=Ha(s,e);window.location.pathname!==n&&window.history.pushState({},"",n)}function Tt(o,t,e,i){const a=o?e.find(n=>n.uri===o):null,s=t?i.find(n=>n.uri===t):null;return{railwayName:a?.name||null,stationName:s?.name||null}}async function At(){try{await ya()}catch(n){const l=n instanceof Error?n:new Error(String(n));console.warn("Error loading local config:",l.message)}if(po(),!_()){const n=J();if(n&&n.includes("proxy"))console.info('API base URL contains "proxy"; bypassing API key modal and omitting API key.'),Kt(null);else{Je(_(),l=>{l&&Kt(l),At()}),We();return}}const o=_(),t=J();await ko(o,t),await To(o,t);try{const l=(await oo(o,t)).filter(r=>r["@type"]==="odpt:Railway").map(r=>{const u=Q(r["dc:title"]||r["odpt:railwayTitle"]),c=r["odpt:operator"]||"";return{uri:r["owl:sameAs"]||r["@id"]||"",name:u,operator:c}}).filter(r=>r.uri&&r.name).sort((r,u)=>r.name.localeCompare(u.name,"ja"));go(l)}catch(n){const l=n instanceof Error?n:new Error(String(n));console.error("Error fetching railway list:",l.message);const r=Ie("station-header");r&&(r.textContent="エラー: 路線リスト取得失敗")}const e=Da();let i,a,s=A();if(e.railwayName&&e.stationName){const n=Ba(x(),e.railwayName);if(n){i=n,s.railwayUri=n.uri,I(s),await at(n.uri,o,t);const l=ja(S(),e.stationName);l&&(a=l)}}if(i||(i=xa(x(),ua),i&&(s.railwayUri=i.uri,I(s),await at(i.uri,o,t))),a||(a=_e(S(),Se)),a){s=A(),s.stationUri=a.uri,s.stationName=a.name,I(s);const n=Tt(s.railwayUri,s.stationUri,x(),S());kt(n.railwayName,n.stationName)}Je(_(),n=>{n&&Kt(n),At()}),_a(x(),S(),A().railwayUri,A().stationUri,async n=>{let l=A();l.railwayUri=n,I(l),await at(n,o,t);const r=_e(S(),Se);r&&(l=A(),l.stationUri=r.uri,l.stationName=r.name,I(l));const u=Tt(l.railwayUri,l.stationUri,x(),S());kt(u.railwayName,u.stationName),gt()},n=>{const l=S().find(c=>c.uri===n),r=A();r.stationUri=n,r.stationName=l?l.name:null,I(r);const u=Tt(r.railwayUri,r.stationUri,x(),S());kt(u.railwayName,u.stationName),gt()},async n=>{await at(n,o,t)}),Ia(async(n,l)=>{let r=A();r.railwayUri!==l&&(r.railwayUri=l,I(r),localStorage.setItem(B,l),await at(l,o,t));const u=S().find(d=>d.uri===n);r=A(),r.stationUri=n,r.stationName=u?u.name:null,I(r),localStorage.setItem(j,n);const c=Tt(r.railwayUri,r.stationUri,x(),S());kt(c.railwayName,c.stationName),gt()}),gt()}window.initializeBoard=At;window.onload=At;
